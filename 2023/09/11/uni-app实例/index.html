

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="余航">
  <meta name="keywords" content="余航个人博客">
  
    <meta name="description" content="1、Uni-app全局配置page.json文件中进行配置。    属性 类型 默认值 描述    navigationBarBackgroundColor Hexcolor #F7F7F7 导航栏背景颜色（同状态栏颜色）   navigationBarTextStyle String white 导航栏标题颜色以及状态栏的前景颜色仅支持white&#x2F;black   navigationB">
<meta property="og:type" content="article">
<meta property="og:title" content="uni-app">
<meta property="og:url" content="https://yuhang111881.github.io/yuhang111881.github.io/2023/09/11/uni-app%E5%AE%9E%E4%BE%8B/index.html">
<meta property="og:site_name" content="余航的博客">
<meta property="og:description" content="1、Uni-app全局配置page.json文件中进行配置。    属性 类型 默认值 描述    navigationBarBackgroundColor Hexcolor #F7F7F7 导航栏背景颜色（同状态栏颜色）   navigationBarTextStyle String white 导航栏标题颜色以及状态栏的前景颜色仅支持white&#x2F;black   navigationB">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://yuhang111881.github.io/img/uniapp.png">
<meta property="article:published_time" content="2023-09-11T10:44:37.000Z">
<meta property="article:modified_time" content="2025-02-12T06:39:55.856Z">
<meta property="article:author" content="余航">
<meta property="article:tag" content="uni-app">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://yuhang111881.github.io/img/uniapp.png">
  
  
    <meta name="referrer" content="no-referrer-when-downgrade">
  
  
  <title>uni-app - 余航的博客</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"yuhang111881.github.io","root":"/","version":"1.9.3","typing":{"enable":true,"typeSpeed":90,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>小余的博客</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/">
                <i class="iconfont icon-link-fill"></i>
                友链
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/1.jpg') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="uni-app"></span>
          
        </div>

        
          
  <div class="mt-3">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-author" aria-hidden="true"></i>
        余航
      </span>
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2023-09-11 18:44" pubdate>
          2023年9月11日 晚上
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          41k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          339 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">uni-app</h1>
            
            
              <div class="markdown-body">
                
                <h1 id="1、Uni-app全局配置"><a href="#1、Uni-app全局配置" class="headerlink" title="1、Uni-app全局配置"></a>1、Uni-app全局配置</h1><p>page.json文件中进行配置。</p>
<table>
<thead>
<tr>
<th>属性</th>
<th>类型</th>
<th>默认值</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>navigationBarBackgroundColor</td>
<td>Hexcolor</td>
<td>#F7F7F7</td>
<td>导航栏背景颜色（同状态栏颜色）</td>
</tr>
<tr>
<td>navigationBarTextStyle</td>
<td>String</td>
<td>white</td>
<td>导航栏标题颜色以及状态栏的前景颜色仅支持white&#x2F;black</td>
</tr>
<tr>
<td>navigationBarTitleText</td>
<td>String</td>
<td></td>
<td>导航栏的文字</td>
</tr>
<tr>
<td>backgroundColor</td>
<td>Hexcolor</td>
<td>#ffffff</td>
<td>窗口的背景色</td>
</tr>
<tr>
<td>backgroundTextStyle</td>
<td>String</td>
<td>dark</td>
<td>下拉loading样式，仅支持dark&#x2F;light</td>
</tr>
<tr>
<td>enablePullDownRefresh</td>
<td>Boolean</td>
<td>false</td>
<td>开启下拉刷新</td>
</tr>
<tr>
<td>onReachBottomDistance</td>
<td>Number</td>
<td>50</td>
<td>页面上拉触底事件出发时距离页面底部的距离，单位为px</td>
</tr>
</tbody></table>
<h1 id="2、组件"><a href="#2、组件" class="headerlink" title="2、组件"></a>2、组件</h1><h2 id="2-1-scroll-view"><a href="#2-1-scroll-view" class="headerlink" title="2.1 scroll-view"></a>2.1 scroll-view</h2><p>可滚动视图区域。用于区域滚动。</p>
<p>在进行竖向滚动，也就是<code>scroll-y:true</code> 时候必须设置组件容器的高度。防止内容撑开，无法形成滚动</p>
<p>需注意在webview渲染的页面中，区域滚动的性能不及页面滚动。</p>
<p><strong>属性说明</strong></p>
<table>
<thead>
<tr>
<th align="left">属性名</th>
<th align="left">类型</th>
<th align="left">默认值</th>
<th align="left">说明</th>
<th align="left">平台差异说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left">scroll-x</td>
<td align="left">Boolean</td>
<td align="left">false</td>
<td align="left">允许横向滚动</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">scroll-y</td>
<td align="left">Boolean</td>
<td align="left">false</td>
<td align="left">允许纵向滚动</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">upper-threshold</td>
<td align="left">Number&#x2F;String</td>
<td align="left">50</td>
<td align="left">距顶部&#x2F;左边多远时（单位px），触发 scrolltoupper 事件</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">lower-threshold</td>
<td align="left">Number&#x2F;String</td>
<td align="left">50</td>
<td align="left">距底部&#x2F;右边多远时（单位px），触发 scrolltolower 事件</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">scroll-top</td>
<td align="left">Number&#x2F;String</td>
<td align="left"></td>
<td align="left">设置竖向滚动条位置</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">scroll-left</td>
<td align="left">Number&#x2F;String</td>
<td align="left"></td>
<td align="left">设置横向滚动条位置</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">scroll-into-view</td>
<td align="left">String</td>
<td align="left"></td>
<td align="left">值应为某子元素id（id不能以数字开头）。设置哪个方向可滚动，则在哪个方向滚动到该元素</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">scroll-with-animation</td>
<td align="left">Boolean</td>
<td align="left">false</td>
<td align="left">在设置滚动条位置时使用动画过渡</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">enable-back-to-top</td>
<td align="left">Boolean</td>
<td align="left">false</td>
<td align="left">iOS点击顶部状态栏、安卓双击标题栏时，滚动条返回顶部，只支持竖向</td>
<td align="left">app-nvue，微信小程序</td>
</tr>
<tr>
<td align="left">show-scrollbar</td>
<td align="left">Boolean</td>
<td align="left">false</td>
<td align="left">控制是否出现滚动条</td>
<td align="left">App-nvue 2.1.5+</td>
</tr>
<tr>
<td align="left">refresher-enabled</td>
<td align="left">Boolean</td>
<td align="left">false</td>
<td align="left">开启自定义下拉刷新</td>
<td align="left">H5、app-vue 2.5.12+,微信小程序基础库2.10.1+</td>
</tr>
<tr>
<td align="left">refresher-threshold</td>
<td align="left">Number</td>
<td align="left">45</td>
<td align="left">设置自定义下拉刷新阈值</td>
<td align="left">H5、app-vue 2.5.12+,微信小程序基础库2.10.1+</td>
</tr>
<tr>
<td align="left">refresher-default-style</td>
<td align="left">String</td>
<td align="left">“black”</td>
<td align="left">设置自定义下拉刷新默认样式，支持设置 black，white，none，none 表示不使用默认样式</td>
<td align="left">H5、app-vue 2.5.12+,微信小程序基础库2.10.1+</td>
</tr>
<tr>
<td align="left">refresher-background</td>
<td align="left">String</td>
<td align="left">“#FFF”</td>
<td align="left">设置自定义下拉刷新区域背景颜色</td>
<td align="left">H5、app-vue 2.5.12+,微信小程序基础库2.10.1+</td>
</tr>
<tr>
<td align="left">refresher-triggered</td>
<td align="left">Boolean</td>
<td align="left">false</td>
<td align="left">设置当前下拉刷新状态，true 表示下拉刷新已经被触发，false 表示下拉刷新未被触发</td>
<td align="left">H5、app-vue 2.5.12+,微信小程序基础库2.10.1+</td>
</tr>
<tr>
<td align="left">enable-flex</td>
<td align="left">Boolean</td>
<td align="left">false</td>
<td align="left">启用 flexbox 布局。开启后，当前节点声明了 display: flex 就会成为 flex container，并作用于其孩子节点。</td>
<td align="left">微信小程序 2.7.3</td>
</tr>
<tr>
<td align="left">scroll-anchoring</td>
<td align="left">Boolean</td>
<td align="left">false</td>
<td align="left">开启 scroll anchoring 特性，即控制滚动位置不随内容变化而抖动，仅在 iOS 下生效，安卓下可参考 CSS overflow-anchor 属性。</td>
<td align="left">微信小程序 2.8.2</td>
</tr>
<tr>
<td align="left">@scrolltoupper</td>
<td align="left">EventHandle</td>
<td align="left"></td>
<td align="left">滚动到顶部&#x2F;左边，会触发 scrolltoupper 事件</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">@scrolltolower</td>
<td align="left">EventHandle</td>
<td align="left"></td>
<td align="left">滚动到底部&#x2F;右边，会触发 scrolltolower 事件</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">@scroll</td>
<td align="left">EventHandle</td>
<td align="left"></td>
<td align="left">滚动时触发，event.detail &#x3D; {scrollLeft, scrollTop, scrollHeight, scrollWidth, deltaX, deltaY}</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">@refresherpulling</td>
<td align="left">EventHandle</td>
<td align="left"></td>
<td align="left">自定义下拉刷新控件被下拉</td>
<td align="left">H5、app-vue 2.5.12+,微信小程序基础库2.10.1+</td>
</tr>
<tr>
<td align="left">@refresherrefresh</td>
<td align="left">EventHandle</td>
<td align="left"></td>
<td align="left">自定义下拉刷新被触发</td>
<td align="left">H5、app-vue 2.5.12+,微信小程序基础库2.10.1+</td>
</tr>
<tr>
<td align="left">@refresherrestore</td>
<td align="left">EventHandle</td>
<td align="left"></td>
<td align="left">自定义下拉刷新被复位</td>
<td align="left">H5、app-vue 2.5.12+,微信小程序基础库2.10.1+</td>
</tr>
<tr>
<td align="left">@refresherabort</td>
<td align="left">EventHandle</td>
<td align="left"></td>
<td align="left">自定义下拉刷新被中止</td>
<td align="left">H5、app-vue 2.5.12+,微信小程序基础库2.10.1+</td>
</tr>
</tbody></table>
<p>使用竖向滚动时，需要给 <code>&lt;scroll-view&gt;</code> 一个固定高度，通过 css 设置 height；使用横向滚动时，需要给<code>&lt;scroll-view&gt;</code>添加<code>white-space: nowrap;</code>样式。</p>
<p>利用scrool-view 实现双列滚动联动效果，（点击分类后，自动滑动到指定的分类锚点处）</p>
<figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs xquery">数据格式<br>navlist<span class="hljs-built_in">[id</span>:<span class="hljs-string">&#x27;1&#x27;</span><span class="hljs-built_in">,name</span>:<span class="hljs-string">&quot;类别1&quot;</span>,list:[<span class="hljs-built_in">&#123;id</span>:<span class="hljs-string">&#x27;1&#x27;</span><span class="hljs-built_in">,name</span>:<span class="hljs-string">&#x27;类别1商品1&#x27;</span>&#125;],<br>	<span class="hljs-built_in">	id</span>:<span class="hljs-string">&#x27;2&#x27;</span><span class="hljs-built_in">,name</span>:<span class="hljs-string">&quot;类别2&quot;</span>,list[<span class="hljs-built_in">&#123;id</span>:<span class="hljs-string">&#x27;1&#x27;</span><span class="hljs-built_in">,name</span>:<span class="hljs-string">&#x27;类别2商品1&#x27;</span>&#125;，<span class="hljs-built_in">&#123;id</span>:<span class="hljs-string">&#x27;2&#x27;</span><span class="hljs-built_in">,name</span>:<span class="hljs-string">&#x27;类别2商品2&#x27;</span>&#125;]<br>	]<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">scroll-view</span> <span class="hljs-attr">scroll-y</span>=<span class="hljs-string">&quot;true&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot; border: 1px yellow solid; width: 100px;&quot;</span> <span class="hljs-attr">scroll</span>=<span class="hljs-string">&quot;test&quot;</span>&gt;</span></span><br><span class="language-xml">		</span><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(item,index) in navList&quot;</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;index&quot;</span>&gt;</span></span><br><span class="language-xml">			</span><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">&quot;index==currindex?&#x27;active&#x27;:&#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="language-xml">				</span><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">text</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;click(index)&quot;</span>&gt;</span></span><span class="language-xquery">&#123;&#123;<span class="hljs-type">item</span>.c_name&#125;</span><span class="language-xml">&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></span><span class="language-xml"></span><br><span class="language-xml">			<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></span><span class="language-xml"></span><br><span class="language-xml">		<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></span><span class="language-xml"></span><br><span class="language-xml">	<span class="hljs-tag">&lt;/<span class="hljs-name">scroll-view</span>&gt;</span></span><br>	<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">scroll-view</span> <span class="hljs-attr">scroll-y</span>=<span class="hljs-string">&quot;true&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot; border: 1px red solid; &quot;</span> <span class="hljs-attr">:scroll-into-view</span>=<span class="hljs-string">&quot;scrollId&quot;</span> @<span class="hljs-attr">scroll</span>=<span class="hljs-string">&quot;scroll&quot;</span>&gt;</span></span><br><span class="language-xml">			</span><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;right&quot;</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(item,index) in navList&quot;</span> <span class="hljs-attr">:id</span>=<span class="hljs-string">&quot;&#x27;id&#x27;+index&quot;</span>&gt;</span></span><br><span class="language-xml">				</span><span class="language-xquery">&#123;&#123;<span class="hljs-type">item</span>.c_name&#125;</span><span class="language-xml">&#125;</span><br><span class="language-xml">				</span><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;&quot;</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;item2 in item.list&quot;</span>&gt;</span></span><br><span class="language-xml">					</span><span class="language-xquery">&#123;&#123;item2.goodsName&#125;</span><span class="language-xml">&#125;</span><br><span class="language-xml">				<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></span><span class="language-xml"></span><br><span class="language-xml">			<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></span><span class="language-xml"></span><br><span class="language-xml">	<span class="hljs-tag">&lt;/<span class="hljs-name">scroll-view</span>&gt;</span></span><br></code></pre></td></tr></table></figure>

<p>定义好数据列展示，此时点击分类，以及滚动都是没有任何效果的</p>
<p>首先获取每个分类模块的高度。并将其存放数组，便于后期对比</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title function_">anchorArray</span>(<span class="hljs-params"></span>)&#123;<br>			<span class="hljs-keyword">let</span> query = uni.<span class="hljs-title function_">createSelectorQuery</span>().<span class="hljs-title function_">in</span>(<span class="hljs-variable language_">this</span>);  <span class="hljs-comment">//返回对象实例</span><br>					<span class="hljs-keyword">let</span> heightArr = [];<br>					<span class="hljs-keyword">let</span> h = <span class="hljs-number">0</span>;<br>					query.<span class="hljs-title function_">selectAll</span>(<span class="hljs-string">&#x27;.right&#x27;</span>).<span class="hljs-title function_">boundingClientRect</span>(<span class="hljs-function"><span class="hljs-params">react</span> =&gt;</span> &#123; <br>					<span class="hljs-comment">//选择器选择对应节点返回NodesRef 对象实例通过foreach循环将所得到信息点的距离顶部高度值存放数组中。</span><br>						react.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> &#123;<br>							h += res.<span class="hljs-property">height</span>;<br>							heightArr.<span class="hljs-title function_">push</span>(h);<br>						&#125;);<br>							<span class="hljs-variable language_">this</span>.<span class="hljs-property">scrollheightArr</span>=heightArr<br>					&#125;).<span class="hljs-title function_">exec</span>();<br>					<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(heightArr)<br>					&#125;,<br></code></pre></td></tr></table></figure>

<p>随后监听页面的滚动，获取滚动值，与分类模块高度值比较，判断滑动范围，变更左侧分类选择。</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs kotlin">scroll(e)&#123;<br><span class="hljs-comment">//判断滚动距离小于高度数组中的第一个值时说明还没有滚动出范围，则此时currindex=0，第一个分类为选中状态</span><br>		<span class="hljs-keyword">if</span>(e.detail.scrollTop&lt;=<span class="hljs-keyword">this</span>.scrollheightArr[<span class="hljs-number">0</span>])&#123;<br>			<span class="hljs-keyword">this</span>.currindex=<span class="hljs-number">0</span><br>		&#125;<br>利用<span class="hljs-keyword">for</span>循环循环每一个值，对比高度值大于前一个和小于后一个时候则说明在此分类模块范围内，则将索引值修改为当前循环下标<br>			<span class="hljs-keyword">for</span>(let i = <span class="hljs-number">0</span>	 ,length = <span class="hljs-keyword">this</span>.scrollheightArr.length ; i &lt; length ; i++)&#123;<br>				<span class="hljs-comment">// 大于前一个，小于后一个时候变化索引ID值</span><br>					<span class="hljs-keyword">if</span>(e.detail.scrollTop &gt;= <span class="hljs-keyword">this</span>.scrollheightArr[i-<span class="hljs-number">1</span>] &amp;&amp; e.detail.scrollTop &lt; <span class="hljs-keyword">this</span>.scrollheightArr[i] )&#123;<br>						<span class="hljs-keyword">this</span>.currindex=i<br>						<span class="hljs-comment">// _this.setData(&#123;</span><br>						<span class="hljs-comment">// 	selectIndex: i</span><br>						<span class="hljs-comment">// &#125;);</span><br>					&#125;<br>				&#125;<br>	&#125;,<br></code></pre></td></tr></table></figure>

<p>滚动变化的同时我们也要能够点击选择</p>
<figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs axapta">click(<span class="hljs-keyword">index</span>) &#123;<br><span class="hljs-keyword">this</span>.scrollId = <span class="hljs-string">&quot;id&quot;</span> + <span class="hljs-keyword">index</span><br><span class="hljs-keyword">this</span>.currindex=<span class="hljs-keyword">index</span><br>		&#125;,<br></code></pre></td></tr></table></figure>



<h2 id="2-2-swiper"><a href="#2-2-swiper" class="headerlink" title="2.2 swiper"></a>2.2 swiper</h2><p>滑块容器视图：每一个swiper-item是一个滑动区域，无法再两个滑动区域中间进行停留。</p>
<p>一般用于左右滑动或上下滑动，比如banner轮播图。</p>
<p><strong>属性说明</strong></p>
<table>
<thead>
<tr>
<th align="left">属性名</th>
<th align="left">类型</th>
<th align="left">默认值</th>
<th align="left">说明</th>
<th align="left">平台差异说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left">indicator-dots</td>
<td align="left">Boolean</td>
<td align="left">false</td>
<td align="left">是否显示面板指示点</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">indicator-color</td>
<td align="left">Color</td>
<td align="left">rgba(0, 0, 0, .3)</td>
<td align="left">指示点颜色</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">indicator-active-color</td>
<td align="left">Color</td>
<td align="left">#000000</td>
<td align="left">当前选中的指示点颜色</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">active-class</td>
<td align="left">String</td>
<td align="left"></td>
<td align="left">swiper-item 可见时的 class</td>
<td align="left">支付宝小程序</td>
</tr>
<tr>
<td align="left">changing-class</td>
<td align="left">String</td>
<td align="left"></td>
<td align="left">acceleration 设置为 true 时且处于滑动过程中，中间若干屏处于可见时的class</td>
<td align="left">支付宝小程序</td>
</tr>
<tr>
<td align="left">autoplay</td>
<td align="left">Boolean</td>
<td align="left">false</td>
<td align="left">是否自动切换</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">current</td>
<td align="left">Number</td>
<td align="left">0</td>
<td align="left">当前所在滑块的 index</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">current-item-id</td>
<td align="left">String</td>
<td align="left"></td>
<td align="left">当前所在滑块的 item-id ，不能与 current 被同时指定</td>
<td align="left">支付宝小程序不支持</td>
</tr>
<tr>
<td align="left">interval</td>
<td align="left">Number</td>
<td align="left">5000</td>
<td align="left">自动切换时间间隔</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">duration</td>
<td align="left">Number</td>
<td align="left">500</td>
<td align="left">滑动动画时长</td>
<td align="left">app-nvue不支持</td>
</tr>
<tr>
<td align="left">circular</td>
<td align="left">Boolean</td>
<td align="left">false</td>
<td align="left">是否采用衔接滑动，即播放到末尾后重新回到开头</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">vertical</td>
<td align="left">Boolean</td>
<td align="left">false</td>
<td align="left">滑动方向是否为纵向</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">previous-margin</td>
<td align="left">String</td>
<td align="left">0px</td>
<td align="left">前边距，可用于露出前一项的一小部分，接受 px 和 rpx 值</td>
<td align="left">app-nvue、字节跳动小程序、飞书小程序不支持</td>
</tr>
<tr>
<td align="left">next-margin</td>
<td align="left">String</td>
<td align="left">0px</td>
<td align="left">后边距，可用于露出后一项的一小部分，接受 px 和 rpx 值</td>
<td align="left">app-nvue、字节跳动小程序、飞书小程序不支持</td>
</tr>
<tr>
<td align="left">acceleration</td>
<td align="left">Boolean</td>
<td align="left">false</td>
<td align="left">当开启时，会根据滑动速度，连续滑动多屏</td>
<td align="left">支付宝小程序</td>
</tr>
<tr>
<td align="left">disable-programmatic-animation</td>
<td align="left">Boolean</td>
<td align="left">false</td>
<td align="left">是否禁用代码变动触发 swiper 切换时使用动画。</td>
<td align="left">支付宝小程序</td>
</tr>
<tr>
<td align="left">display-multiple-items</td>
<td align="left">Number</td>
<td align="left">1</td>
<td align="left">同时显示的滑块数量</td>
<td align="left">app-nvue、支付宝小程序不支持</td>
</tr>
<tr>
<td align="left">skip-hidden-item-layout</td>
<td align="left">Boolean</td>
<td align="left">false</td>
<td align="left">是否跳过未显示的滑块布局，设为 true 可优化复杂情况下的滑动性能，但会丢失隐藏状态滑块的布局信息</td>
<td align="left">App、微信小程序、京东小程序</td>
</tr>
<tr>
<td align="left">disable-touch</td>
<td align="left">Boolean</td>
<td align="left">false</td>
<td align="left">是否禁止用户 touch 操作</td>
<td align="left">App 2.5.5+、H5 2.5.5+、支付宝小程序、字节跳动小程序与飞书小程序（只在初始化时有效，不能动态变更）</td>
</tr>
<tr>
<td align="left">touchable</td>
<td align="left">Boolean</td>
<td align="left">true</td>
<td align="left">是否监听用户的触摸事件，只在初始化时有效，不能动态变更</td>
<td align="left">字节跳动小程序与飞书小程序（uni-app 2.5.5+ 推荐统一使用 disable-touch）</td>
</tr>
<tr>
<td align="left">easing-function</td>
<td align="left">String</td>
<td align="left">default</td>
<td align="left">指定 swiper 切换缓动动画类型，有效值：default、linear、easeInCubic、easeOutCubic、easeInOutCubic</td>
<td align="left">微信小程序、快手小程序、京东小程序</td>
</tr>
<tr>
<td align="left">@change</td>
<td align="left">EventHandle</td>
<td align="left"></td>
<td align="left">current 改变时会触发 change 事件，event.detail &#x3D; {current: current, source: source}</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">@transition</td>
<td align="left">EventHandle</td>
<td align="left"></td>
<td align="left">swiper-item 的位置发生改变时会触发 transition 事件，event.detail &#x3D; {dx: dx, dy: dy}，支付宝小程序暂不支持dx, dy</td>
<td align="left">App、H5、微信小程序、支付宝小程序、字节跳动小程序、飞书小程序、QQ小程序、快手小程序</td>
</tr>
<tr>
<td align="left">@animationfinish</td>
<td align="left">EventHandle</td>
<td align="left"></td>
<td align="left">动画结束时会触发 animationfinish 事件，event.detail &#x3D; {current: current, source: source}</td>
<td align="left">字节跳动小程序与飞书小程序不支持</td>
</tr>
</tbody></table>
<p>change 事件返回 detail 中包含一个 source 字段，表示导致变更的原因，可能值如下：</p>
<ul>
<li>autoplay 自动播放导致swiper变化。</li>
<li>touch 用户划动引起swiper变化。</li>
<li>其他原因将用空字符串表示。</li>
</ul>
<h1 id="3、内容居中显示方法"><a href="#3、内容居中显示方法" class="headerlink" title="3、内容居中显示方法"></a>3、内容居中显示方法</h1><h3 id="行内元素水平居中"><a href="#行内元素水平居中" class="headerlink" title="行内元素水平居中"></a>行内元素水平居中</h3><p>利用text-align:center可以实现行内元素水平居中<br>对行内元素(inline)，行内块(inline-block)，行内表(inline-table)，inline-flex也有效果。</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs applescript">&lt;<span class="hljs-keyword">div</span> <span class="hljs-built_in">class</span>=<span class="hljs-string">&quot;center-text&quot;</span>&gt;<br>    简单是稳定的前提。<br>&lt;/<span class="hljs-keyword">div</span>&gt;<br><span class="hljs-keyword">div</span> &#123;<br>    height:<span class="hljs-number">60</span>px;<br>    border: <span class="hljs-number">2</span>px dashed <span class="hljs-comment">#f69c55;</span><br>&#125;<br>.center-<span class="hljs-built_in">text</span> &#123;<br>    <span class="hljs-built_in">text</span>-align: center;<br>&#125;<br><br></code></pre></td></tr></table></figure>

<h3 id="块级元素水平居中"><a href="#块级元素水平居中" class="headerlink" title="块级元素水平居中"></a>块级元素水平居中</h3><p>通过把固定宽度的块级元素的margin-left和margin-right设成auto,就可以使块级元素水平居中</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs stylus">&lt;div&gt;<br>    &lt;<span class="hljs-selector-tag">p</span> class=<span class="hljs-string">&quot;center-block&quot;</span>&gt;<br>    &lt;/p&gt;<br>&lt;/div&gt;<br><span class="hljs-selector-tag">div</span> &#123;<br>    <span class="hljs-attribute">height</span>:<span class="hljs-number">100px</span>;<br>    <span class="hljs-attribute">border</span>: <span class="hljs-number">2px</span> dashed <span class="hljs-number">#f69c55</span>;<br>&#125;<br><span class="hljs-selector-class">.center-block</span> &#123;<br>    <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> auto;<br>    <span class="hljs-attribute">width</span>: <span class="hljs-number">8rem</span>;<br>    <span class="hljs-attribute">padding</span>:<span class="hljs-number">1rem</span>;<br>    <span class="hljs-attribute">color</span>:<span class="hljs-number">#fff</span>;<br>    <span class="hljs-attribute">background</span>:<span class="hljs-number">#000</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure>

<h1 id="4、调用其他页面方法"><a href="#4、调用其他页面方法" class="headerlink" title="4、调用其他页面方法"></a>4、调用其他页面方法</h1><h3 id="调用上一页中的方法"><a href="#调用上一页中的方法" class="headerlink" title="调用上一页中的方法"></a>调用上一页中的方法</h3><p>a.vue</p>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs reasonml"><span class="hljs-keyword">let</span> pages = get<span class="hljs-constructor">CurrentPages()</span>;	<span class="hljs-comment">//当前页面</span><br><span class="hljs-keyword">let</span> beforePage = pages<span class="hljs-literal">[<span class="hljs-identifier">pages</span>.<span class="hljs-identifier">length</span> - <span class="hljs-number">2</span>]</span>;  获取上一页实例<br>在方法中直接调用<br>beforePage.$vm.<span class="hljs-constructor">ToRefresh()</span> <span class="hljs-comment">// b.vue中定义方法</span><br></code></pre></td></tr></table></figure>

<p>b.vue</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">ToRefresh</span><span class="hljs-params">()</span></span>&#123;<br>console<span class="hljs-selector-class">.log</span>(<span class="hljs-string">&quot;方法调用&quot;</span>)<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="父组件中调用子组件方法"><a href="#父组件中调用子组件方法" class="headerlink" title="父组件中调用子组件方法"></a>父组件中调用子组件方法</h3><p>父组件</p>
<pre><code class="hljs">&lt;goods-list class=&quot;operation&quot; ref=&quot;goodslist&quot;&gt;&lt;/goods-list&gt; //引入子组件
ToRefresh()&#123;
            this.$refs.goodslist.getStoreClassify()  //在父组件中调用方法
        &#125;,
</code></pre>
<p>子组件</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">getStoreClassify</span><span class="hljs-params">()</span></span>&#123;<br>console<span class="hljs-selector-class">.log</span>(<span class="hljs-string">&quot;子组件中方法被调用&quot;</span>)<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="在子组件中调用父组件方法"><a href="#在子组件中调用父组件方法" class="headerlink" title="在子组件中调用父组件方法"></a>在子组件中调用父组件方法</h3><h1 id="5-在vue-中实现数组查重"><a href="#5-在vue-中实现数组查重" class="headerlink" title="5.在vue 中实现数组查重"></a>5.在vue 中实现数组查重</h1><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs abnf">const person<span class="hljs-operator">=</span>_this.goodstype.columns[<span class="hljs-number">0</span>].some(person<span class="hljs-operator">=</span>&gt;person.name <span class="hljs-operator">=</span><span class="hljs-operator">=</span><span class="hljs-operator">=</span> _this.editType.name)<br>其中_this.goodstype.columns[<span class="hljs-number">0</span>]为数组<br><span class="hljs-attribute">person</span><span class="hljs-operator">=</span>&gt;person.name <span class="hljs-operator">=</span><span class="hljs-operator">=</span><span class="hljs-operator">=</span> _this.editType.name为查询的对象<br></code></pre></td></tr></table></figure>

<h1 id="6-滚动数据"><a href="#6-滚动数据" class="headerlink" title="6.滚动数据"></a>6.滚动数据</h1><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs elixir">利用分页，下拉加载更多数据<br>&lt;u-loadmore v-<span class="hljs-keyword">if</span>=<span class="hljs-string">&quot;orderList.length &gt;0 &quot;</span> <span class="hljs-symbol">:status=<span class="hljs-string">&quot;loadmoreStatus&quot;</span></span> <span class="hljs-variable">@loadmore</span>=<span class="hljs-string">&quot;loadmoreData&quot;</span> /&gt;<br>通过<span class="hljs-symbol">:status</span>绑定加载状态<br>加载前值为loadmore，加载中为loading，没有数据为nomore<br><br></code></pre></td></tr></table></figure>

<h1 id="7-页面上拉生命周期"><a href="#7-页面上拉生命周期" class="headerlink" title="7.页面上拉生命周期"></a>7.页面上拉生命周期</h1><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><br><span class="hljs-function"><span class="hljs-title">onReachBottom</span><span class="hljs-params">()</span></span> &#123;<br>		页面上拉时候执行。<br>			&#125;<br> <br><br></code></pre></td></tr></table></figure>

<h1 id="8、调用扫码接口"><a href="#8、调用扫码接口" class="headerlink" title="8、调用扫码接口"></a>8、调用扫码接口</h1><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs arcade">uni.scanCode(&#123;<br>	<span class="hljs-attr">success</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">res</span>) &#123;<br>		<span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-string">&#x27;条码类型：&#x27;</span> + res.scanType);<br>		<span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-string">&#x27;条码内容：&#x27;</span> + res.result);<br>	&#125;<br>&#125;);<br></code></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th align="left"></th>
<th align="left"></th>
<th align="left"></th>
<th align="left"></th>
<th align="right"></th>
</tr>
</thead>
<tbody><tr>
<td align="left">参数名</td>
<td align="left">类型</td>
<td align="left">必填</td>
<td align="left">说明</td>
<td align="right">平台差异说明</td>
</tr>
<tr>
<td align="left">onlyFromCamera</td>
<td align="left">Boolean</td>
<td align="left">否</td>
<td align="left">是否只能从相机扫码，不允许从相册选择图片</td>
<td align="right">字节跳动小程序、百度小程序、支付宝小程序不支持此参数</td>
</tr>
<tr>
<td align="left">scanType</td>
<td align="left">Array</td>
<td align="left">否</td>
<td align="left">扫码类型，参考下方<code>scanType的合法值</code></td>
<td align="right">字节跳动小程序不支持此参数</td>
</tr>
<tr>
<td align="left">autoDecodeCharset</td>
<td align="left">Boolean</td>
<td align="left">否</td>
<td align="left">是否启用自动识别字符编码功能，默认为否</td>
<td align="right">App</td>
</tr>
<tr>
<td align="left">autoZoom</td>
<td align="left">Boolean</td>
<td align="left">否</td>
<td align="left">是否启用自动放大，默认启用</td>
<td align="right">仅 App-Android (3.5.4+) 支持</td>
</tr>
<tr>
<td align="left">barCodeInput</td>
<td align="left">Boolean</td>
<td align="left">否</td>
<td align="left">是否支持手动输入条形码</td>
<td align="right">仅飞书小程序（V3.14.0）支持</td>
</tr>
<tr>
<td align="left">hideAlbum</td>
<td align="left">Boolean</td>
<td align="left">否</td>
<td align="left">是否隐藏相册（不允许从相册选择图片），只能从相机扫码。默认值为 false。</td>
<td align="right">仅支付宝小程序支持</td>
</tr>
<tr>
<td align="left">success</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用成功的回调，返回内容详见返回参数说明。</td>
<td align="right"></td>
</tr>
<tr>
<td align="left">fail</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用失败的回调函数（识别失败、用户取消等情况下触发）</td>
<td align="right"></td>
</tr>
<tr>
<td align="left">complete</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用结束的回调函数（调用成功、失败都会执行）</td>
<td align="right"></td>
</tr>
</tbody></table>
<p><strong>scanType的合法值</strong></p>
<table>
<thead>
<tr>
<th align="left">值</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left">barCode</td>
<td align="left">一维码</td>
</tr>
<tr>
<td align="left">qrCode</td>
<td align="left">二维码</td>
</tr>
<tr>
<td align="left">datamatrix</td>
<td align="left">Data Matrix 码</td>
</tr>
<tr>
<td align="left">pdf417</td>
<td align="left">PDF417 条码</td>
</tr>
</tbody></table>
<p><strong>success 返回参数说明</strong></p>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">说明</th>
<th align="left">平台差异说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left">result</td>
<td align="left">所扫码的内容</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">scanType</td>
<td align="left">所扫码的类型</td>
<td align="left">App、微信小程序、百度小程序、QQ小程序、京东小程序、支付宝小程序</td>
</tr>
<tr>
<td align="left">charSet</td>
<td align="left">所扫码的字符集</td>
<td align="left">App、微信小程序、百度小程序(所扫码的字符集，仅支持 Android 系统)、QQ小程序、京东小程序</td>
</tr>
<tr>
<td align="left">path</td>
<td align="left">当所扫的码为当前应用的合法二维码时，会返回此字段，内容为二维码携带的 path。</td>
<td align="left">微信小程序、QQ小程序、京东小程序</td>
</tr>
<tr>
<td align="left">rawData</td>
<td align="left">原始数据，base64 编码</td>
<td align="left">微信小程序、QQ小程序、京东小程序、支付宝小程序</td>
</tr>
<tr>
<td align="left">code</td>
<td align="left">扫码所得数据</td>
<td align="left">支付宝小程序</td>
</tr>
<tr>
<td align="left">qrCode</td>
<td align="left">扫描二维码时返回二维码数据</td>
<td align="left">支付宝小程序</td>
</tr>
<tr>
<td align="left">barCode</td>
<td align="left">扫描条形码时返回条形码数据</td>
<td align="left">支付宝小程序</td>
</tr>
<tr>
<td align="left">imageChannel</td>
<td align="left">来源</td>
<td align="left">支付宝小程序</td>
</tr>
</tbody></table>
<h1 id="9、组件"><a href="#9、组件" class="headerlink" title="9、组件"></a>9、组件</h1><h2 id="1-switch-开关选择器"><a href="#1-switch-开关选择器" class="headerlink" title="1.switch 开关选择器"></a>1.switch 开关选择器</h2><p>如下图所示开关功能</p>
<p><img src="C:\Users\余航\AppData\Roaming\Typora\typora-user-images\image-20230621144105042.png" srcset="/img/loading.gif" lazyload alt="image-20230621144105042"></p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs autoit">&lt;<span class="hljs-keyword">switch</span> <span class="hljs-symbol">@change</span>=<span class="hljs-string">&quot;change&quot;</span>&gt;&lt;/<span class="hljs-keyword">switch</span>&gt;<br>通过监听change按钮变化事件去改变数据<br></code></pre></td></tr></table></figure>

<p>在uview 组件中有更加方便的方法，无需对按钮进行监听</p>
<p>代码：</p>
<p>其中v-model 值为双向绑定。</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs actionscript">&lt;u-<span class="hljs-keyword">switch</span> v-model=<span class="hljs-string">&quot;item.status&quot;</span> &gt;&lt;/u-<span class="hljs-keyword">switch</span>&gt;<br></code></pre></td></tr></table></figure>



<h2 id="2-checkbox-group"><a href="#2-checkbox-group" class="headerlink" title="2.checkbox-group"></a>2.checkbox-group</h2><p>多项选择器，内部由多个 checkbox 组成。</p>
<p><img src="C:\Users\余航\AppData\Roaming\Typora\typora-user-images\image-20230621160347310.png" srcset="/img/loading.gif" lazyload alt="image-20230621160347310"></p>
<figure class="highlight handlebars"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs handlebars"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">checkbox-group</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span></span><br><span class="language-xml">	<span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span></span><br><span class="language-xml">		<span class="hljs-tag">&lt;<span class="hljs-name">checkbox</span> <span class="hljs-attr">:value</span>=<span class="hljs-string">&quot;item.sex&quot;</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span></span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">item.name</span>&#125;&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></span><br><span class="language-xml">	<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></span><br><span class="language-xml">	<span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span></span><br><span class="language-xml">		<span class="hljs-tag">&lt;<span class="hljs-name">checkbox</span> <span class="hljs-attr">:value</span>=<span class="hljs-string">&quot;item.sex&quot;</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span></span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">item.sex</span>&#125;&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></span><br><span class="language-xml">	<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">checkbox-group</span>&gt;</span></span><br></code></pre></td></tr></table></figure>

<p>checkbox</p>
<p><img src="C:\Users\余航\AppData\Roaming\Typora\typora-user-images\image-20230621155416373.png" srcset="/img/loading.gif" lazyload alt="image-20230621155416373"></p>
<figure class="highlight handlebars"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs handlebars"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span></span><br><span class="language-xml">	<span class="hljs-tag">&lt;<span class="hljs-name">checkbox</span> <span class="hljs-attr">:value</span>=<span class="hljs-string">&quot;item.sex&quot;</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span></span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">item.sex</span>&#125;&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></span><br></code></pre></td></tr></table></figure>

<p>多选项目。</p>
<p><strong>属性说明</strong></p>
<table>
<thead>
<tr>
<th align="left">属性名</th>
<th align="left">类型</th>
<th align="left">默认值</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left">value</td>
<td align="left">String</td>
<td align="left"></td>
<td align="left"><code>&lt;checkbox&gt;</code> 标识，选中时触发 <code>&lt;checkbox-group&gt;</code> 的 change 事件，并携带 <code>&lt;checkbox&gt;</code> 的 value。</td>
</tr>
<tr>
<td align="left">disabled</td>
<td align="left">Boolean</td>
<td align="left">false</td>
<td align="left">是否禁用</td>
</tr>
<tr>
<td align="left">checked</td>
<td align="left">Boolean</td>
<td align="left">false</td>
<td align="left">当前是否选中，可用来设置默认选中</td>
</tr>
<tr>
<td align="left">color</td>
<td align="left">Color</td>
<td align="left"></td>
<td align="left">checkbox的颜色，同css的color</td>
</tr>
</tbody></table>
<p>3.editor</p>
<p>富文本编辑器</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs"><br></code></pre></td></tr></table></figure>



<table>
<thead>
<tr>
<th>属性</th>
<th>类型</th>
<th>默认值</th>
<th>必填</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>read-only</td>
<td>boolean</td>
<td>false</td>
<td>否</td>
<td>设置编辑器为只读</td>
</tr>
<tr>
<td>placeholder</td>
<td>string</td>
<td></td>
<td>否</td>
<td>提示信息</td>
</tr>
<tr>
<td>show-img-size</td>
<td>boolean</td>
<td>false</td>
<td>否</td>
<td>点击图片时显示图片大小控件</td>
</tr>
<tr>
<td>show-img-toolbar</td>
<td>boolean</td>
<td>false</td>
<td>否</td>
<td>点击图片时显示工具栏控件</td>
</tr>
<tr>
<td>show-img-resize</td>
<td>boolean</td>
<td>false</td>
<td>否</td>
<td>点击图片时显示修改尺寸控件</td>
</tr>
<tr>
<td>@ready</td>
<td>eventhandle</td>
<td></td>
<td>否</td>
<td>编辑器初始化完成时触发</td>
</tr>
<tr>
<td>@focus</td>
<td>eventhandle</td>
<td></td>
<td>否</td>
<td>编辑器聚焦时触发，event.detail &#x3D; {html, text, delta}</td>
</tr>
<tr>
<td>@blur</td>
<td>eventhandle</td>
<td></td>
<td>否</td>
<td>编辑器失去焦点时触发，detail &#x3D; {html, text, delta}</td>
</tr>
<tr>
<td>@input</td>
<td>eventhandle</td>
<td></td>
<td>否</td>
<td>编辑器内容改变时触发，detail &#x3D; {html, text, delta}</td>
</tr>
<tr>
<td>@statuschange</td>
<td>eventhandle</td>
<td></td>
<td>否</td>
<td>通过 Context 方法改变编辑器内样式时触发，返回选区已设置的样式</td>
</tr>
</tbody></table>
<h1 id="10、文字溢出box-时候用省略号表示"><a href="#10、文字溢出box-时候用省略号表示" class="headerlink" title="10、文字溢出box 时候用省略号表示"></a>10、文字溢出box 时候用省略号表示</h1><figure class="highlight cos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs cos">&lt;<span class="hljs-keyword">view</span> <span class="hljs-keyword">class</span>=<span class="hljs-string">&quot;white-space&quot;</span>&gt;<span class="hljs-number">1.</span>虚无，是我的性格。<br><span class="hljs-number">2.</span>刀鞘？丢失了。<br><span class="hljs-number">3.</span>跟马上会挂掉的人争夺粉丝，真的很没有成就感。（挑衅）<br><span class="hljs-number">4.</span>所谓武技，不过是遇害者数字的累积而已。&lt;/<span class="hljs-keyword">view</span>&gt;<br></code></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.white-space</span>&#123;<br><span class="hljs-attribute">padding</span>: <span class="hljs-number">30</span>upx;<br><span class="hljs-attribute">max-height</span>: <span class="hljs-number">40</span>upx;<br><span class="hljs-attribute">overflow</span>: hidden;<br><span class="hljs-attribute">word-break</span>: break-all;  <span class="hljs-comment">/* break-all(允许在单词内换行。) </span><br><span class="hljs-comment">text-overflow: ellipsis;  /* 超出部分省略号 */</span><br><span class="hljs-attribute">display</span>: -webkit-box; <span class="hljs-comment">/** 对象作为伸缩盒子模型显示 **/</span><br>-webkit-box-orient: vertical; <span class="hljs-comment">/** 设置或检索伸缩盒对象的子元素的排列方式 **/</span><br>-webkit-line-clamp: <span class="hljs-number">2</span>; <span class="hljs-comment">/** 显示的行数 **/</span><br>&#125;<br></code></pre></td></tr></table></figure>

<h1 id="11、tabs-标签切换"><a href="#11、tabs-标签切换" class="headerlink" title="11、tabs 标签切换"></a>11、tabs 标签切换</h1><p>实例：</p>
<p><img src="C:\Users\余航\AppData\Roaming\Typora\typora-user-images\image-20230626145630749.png" srcset="/img/loading.gif" lazyload alt="image-20230626145630749"></p>
<figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs avrasm">利用uview 组件快速创建tabs标签<br>&lt;u-tabs :list=<span class="hljs-string">&quot;list1&quot;</span> @click=<span class="hljs-string">&quot;click&quot;</span>&gt;&lt;/u-tabs&gt;<br>export defualt &#123;<br>data()&#123;<br>return&#123;<br><br><span class="hljs-symbol">list:</span>[&#123;<br><span class="hljs-symbol">name:</span><span class="hljs-string">&quot;全部&quot;</span>，<br><span class="hljs-symbol">comm:</span><span class="hljs-string">&quot;A&quot;</span><br>&#125;,<br><span class="hljs-symbol">name:</span><span class="hljs-string">&quot;发布中&quot;</span>，<br><span class="hljs-symbol">comm:</span><span class="hljs-string">&quot;B&quot;</span><br>&#125;,<br><span class="hljs-symbol">name:</span><span class="hljs-string">&quot;已下架&quot;</span>，<br><span class="hljs-symbol">comm:</span><span class="hljs-string">&quot;C&quot;</span><br>&#125;]<br><br>&#125;<br>&#125;<br>&#125;<br><br></code></pre></td></tr></table></figure>

<p>利用<code>&lt;component :is=&quot;CurrentPages&quot;&gt;&lt;/component&gt;</code>实现快速的组件切换</p>
<figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs clean">&lt;component :is=<span class="hljs-string">&quot;CurrentPages&quot;</span>&gt;&lt;/component&gt;<br><span class="hljs-comment">//首先引入所需要的组件</span><br><span class="hljs-keyword">import</span> A <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./component/A&quot;</span><br><span class="hljs-keyword">import</span> B <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./component/B&quot;</span><br><span class="hljs-keyword">import</span> C <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./component/C&quot;</span><br><span class="hljs-keyword">export</span> defualt &#123;<br><span class="hljs-comment">//其次注册组件</span><br>	components:&#123;<br>			A,B,C<br>		&#125;,<br>&#125;<br></code></pre></td></tr></table></figure>

<p>随后绑定tabs 的点击事件，获取当前点击的标签索引，current值，将其值动态赋值给<code>:is=&quot;CurrentPages&quot;</code>，使其达到动态切换组件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-attr">methods</span>: &#123;<br>	<span class="hljs-title function_">click</span>(<span class="hljs-params">e</span>)&#123;<br>		<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(e.<span class="hljs-property">Comment</span>)<br>		<span class="hljs-variable language_">this</span>.<span class="hljs-property">CurrentPages</span>=e.<span class="hljs-property">Comment</span><br>			&#125;,<br><br>		&#125;<br></code></pre></td></tr></table></figure>

<h1 id="12、网络请求API"><a href="#12、网络请求API" class="headerlink" title="12、网络请求API"></a>12、网络请求API</h1><p>1、query形式传递参数</p>
<p>形如：<code>www.baidu.com?id=1pageNum=10</code></p>
<p>请求时</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs csharp">industry: (param) =&gt; &#123;<br><span class="hljs-comment">// 构造新的传递参数Object（对象），对象中的params值对应paramList------query参数</span><br>		<span class="hljs-keyword">let</span> <span class="hljs-keyword">params</span> = &#123;<br>			<span class="hljs-keyword">params</span>: param<br>		&#125;;<br>		<span class="hljs-keyword">return</span> uni.$u.http.<span class="hljs-keyword">get</span>(<span class="hljs-string">&quot;/product/industry/list&quot;</span>, <span class="hljs-keyword">params</span>);<br>	&#125;,<br></code></pre></td></tr></table></figure>

<p>2、body形式传递参数（json格式）</p>
<p>在URL处隐藏所传递的参数信息</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash">changeStatus:(<span class="hljs-built_in">id</span>,status)=&gt;&#123;<br>		// 直接传递一个对象------------body形式传参，传递json格式数据<br>		<span class="hljs-built_in">let</span> params=&#123;<br>			<span class="hljs-built_in">id</span>:<span class="hljs-built_in">id</span>,<br>			status:status<br>		&#125;<br>		<br>		<span class="hljs-built_in">return</span> uni.<span class="hljs-variable">$u</span>.http.put(<span class="hljs-string">&quot;/needs/info/changeStatus&quot;</span>, params)<br>	&#125;,<br></code></pre></td></tr></table></figure>

<p>在页面中调用接口方法并传递相对应参数即可</p>
<p>例如：</p>
<figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs arcade">this.<span class="hljs-symbol">$api</span>.industry(params).then(<span class="hljs-function">(<span class="hljs-params">res</span>)=&gt;</span>&#123;<br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(res)<span class="hljs-comment">//此处处理调用接口的回调函数。</span><br>&#125;)<br></code></pre></td></tr></table></figure>

<h1 id="13、利用-emit（）进行子组件向父组件传值"><a href="#13、利用-emit（）进行子组件向父组件传值" class="headerlink" title="13、利用$emit（）进行子组件向父组件传值"></a>13、利用$emit（）进行子组件向父组件传值</h1><figure class="highlight nsis"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs nsis">uni.<span class="hljs-variable">$emit</span>(<span class="hljs-string">&#x27;needsShow&#x27;</span>, <span class="hljs-literal">show</span>) 在子组件方法中定义传值，传递参数名为needsShow，参数值为<span class="hljs-literal">show</span>（可以为数值，数组，方法等内容）<br></code></pre></td></tr></table></figure>

<figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs arcade">接受方法一  父组件中接收子组件数据<br>在父组件中进行方法调用<br>&lt;needs @needsShow=<span class="hljs-string">&quot;function&quot;</span>&gt;&lt;/needs&gt;<br><span class="hljs-keyword">function</span> 可以为定义为方法<br><br><span class="hljs-title function_">function</span>(<span class="hljs-params">e</span>)&#123;<br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(e)  此时e 为子组件中传递值<br>&#125;		<br><br>方法二   可以直接在其他页面中进行接收<br>在mounted中调用<br>uni.<span class="hljs-symbol">$o</span>n(<span class="hljs-string">&#x27;needsShow&#x27;</span>, data =&gt; &#123;   （回调函数方法） &#125;)<br>		接收的参数值为data<br></code></pre></td></tr></table></figure>



<h1 id="14、uniapp-中uview-组件并不支持-click-stop-阻止冒泡"><a href="#14、uniapp-中uview-组件并不支持-click-stop-阻止冒泡" class="headerlink" title="14、uniapp 中uview 组件并不支持@click.stop 阻止冒泡"></a>14、uniapp 中uview 组件并不支持@click.stop 阻止冒泡</h1><p>可以利用@click.native.stop 完成冒泡事件的阻止。</p>
<h1 id="15、from表单重置"><a href="#15、from表单重置" class="headerlink" title="15、from表单重置"></a>15、from表单重置</h1><p>​	@reset 事件</p>
<p>​	在使用uview UI组件中</p>
<p>使用ref 中的resetFields()方法进行对表单的重置。</p>
<p> this.$refs.productRuleForm.resetFields()</p>
<p>16、获取一遍数组，使组件共用数据</p>
<p>父组件中获取数据</p>
<figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs elixir">&lt;home v-<span class="hljs-keyword">if</span>=<span class="hljs-string">&quot;pageFlag === &#x27;index&#x27;&quot;</span> <span class="hljs-symbol">:userinfoList=<span class="hljs-string">&quot;userinfoList&quot;</span>&gt;&lt;/home&gt;</span><br></code></pre></td></tr></table></figure>

<p>利用父组件传值特性，向子组件传递数据</p>
<p>子组件中适用props进行接收，并使用数据</p>
<p>  props: [“userinfoList”],</p>
<h1 id="16、查找数组中的元素，或对象"><a href="#16、查找数组中的元素，或对象" class="headerlink" title="16、查找数组中的元素，或对象"></a>16、查找数组中的元素，或对象</h1><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs arcade">let arr1 = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];<br>let num = arr1.<span class="hljs-built_in">find</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item &gt; <span class="hljs-number">1</span>);<br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(num)  <span class="hljs-comment">//輸出的結果是2</span><br></code></pre></td></tr></table></figure>



<h1 id="17、定时器"><a href="#17、定时器" class="headerlink" title="17、定时器"></a>17、定时器</h1><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs coffeescript"><span class="hljs-built_in">setInterval</span> (<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>&#123;<br><br>&#125;,<span class="hljs-number">1000</span>)<br>按照一定周期调用函数<br><br></code></pre></td></tr></table></figure>

<h1 id="18、u-popup-滚动穿透问题-微信小程序"><a href="#18、u-popup-滚动穿透问题-微信小程序" class="headerlink" title="18、u-popup 滚动穿透问题 微信小程序"></a>18、u-popup 滚动穿透问题 微信小程序</h1><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs elixir">打开popup层后仍可以滚动页面<br>此时 添加catchtouchmove 阻止滚动穿透<br>&lt;u-popup <span class="hljs-symbol">:show=<span class="hljs-string">&quot;tipShow&quot;</span></span> <span class="hljs-variable">@close</span>=<span class="hljs-string">&quot;tipShow=false&quot;</span> <span class="hljs-symbol">:closeable=<span class="hljs-string">&quot;true&quot;</span></span> catchtouchmove&gt;<br></code></pre></td></tr></table></figure>

<h1 id="18、跳转tabbar页面"><a href="#18、跳转tabbar页面" class="headerlink" title="18、跳转tabbar页面"></a>18、跳转tabbar页面</h1><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><br>      uni.switchTab(&#123;<br>        <span class="hljs-attr">url</span>: <span class="hljs-string">&#x27;/pages/work/index&#x27;</span>,<br>        <span class="hljs-attr">success</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> &#123;<br>        &#125;,<br>      &#125;);<br>      <span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-string">&#x27;用户点击确定&#x27;</span>);<br>    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (res.cancel) &#123;<br>      <span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-string">&#x27;用户点击取消&#x27;</span>);<br>    &#125;<br>  &#125;<br>&#125;);<br></code></pre></td></tr></table></figure>

<h1 id="19、触发跳转后页面的方法"><a href="#19、触发跳转后页面的方法" class="headerlink" title="19、触发跳转后页面的方法"></a>19、触发跳转后页面的方法</h1><p>{非tabbar页面}</p>
<figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs arcade">使用模态框提示用户，点击确定后跳转到tabbar页面，并传递tabBarPageJump事件名<br>	<br>uni.showModal(&#123;<br>  <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;提示&#x27;</span>,<br>  <span class="hljs-attr">content</span>: <span class="hljs-string">&#x27;即将跳转到扫码页面，确定跳转吗&#x27;</span>,<br>  <span class="hljs-attr">success</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">res</span>) &#123;<br>    <span class="hljs-keyword">if</span> (res.confirm) &#123;<br>      uni.switchTab(&#123;<br>        <span class="hljs-attr">url</span>: <span class="hljs-string">&#x27;/pages/work/index&#x27;</span>,<br>        <span class="hljs-attr">success</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> &#123;<br>          <span class="hljs-comment">// 传递tabBarPageJump事件名，使页面触发事件</span><br>          uni.<span class="hljs-symbol">$emit</span>(<span class="hljs-string">&#x27;tabBarPageJump&#x27;</span>,);<br>        &#125;,<br>      &#125;);<br>      <span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-string">&#x27;用户点击确定&#x27;</span>);<br>    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (res.cancel) &#123;<br>      <span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-string">&#x27;用户点击取消&#x27;</span>);<br>    &#125;<br>  &#125;<br>&#125;);<br></code></pre></td></tr></table></figure>

<p>{tabbar 页面}并且在跳转后的页面中监听事件，并触发</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title function_">mounted</span>(<span class="hljs-params"></span>) &#123;<br>监听传递的tabBarPageJump事件名，，触发对应的事件<br>  uni.$on(<span class="hljs-string">&#x27;tabBarPageJump&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">method</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">// 根据传递过来的方法名称执行对应的方法</span><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">handelScanCode</span>()<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;触发方法了。。。。。。。&quot;</span>)<br>  &#125;);<br>  &#125;,<br></code></pre></td></tr></table></figure>

<h1 id="20、返回上一页"><a href="#20、返回上一页" class="headerlink" title="20、返回上一页"></a>20、返回上一页</h1><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs awk">uni.navigateBack(&#123;<br>       delta: <span class="hljs-number">1</span>, <span class="hljs-regexp">//</span> 返回的页面数，<span class="hljs-number">1</span>表示返回上一页，<span class="hljs-number">2</span>表示返回上两页，以此类推<br>     &#125;);<br></code></pre></td></tr></table></figure>
<h1 id="21、利用map-方法构成一个新的数组"><a href="#21、利用map-方法构成一个新的数组" class="headerlink" title="21、利用map()方法构成一个新的数组"></a>21、利用map()方法构成一个新的数组</h1><figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs xquery">利用<span class="hljs-keyword">map</span> 取值构建一个新的数组。<br>[&#123;text:’<span class="hljs-number">1</span>’,value:’<span class="hljs-number">111</span>’&#125;,&#123;text:’<span class="hljs-number">2</span>’,value:’<span class="hljs-number">3</span>’&#125;]<br>从res 中循环取值取出<span class="hljs-type">item</span><span class="hljs-built_in">.name</span> 赋值<span class="hljs-type">text</span>  <br>取出<span class="hljs-type">item</span><span class="hljs-built_in">.id</span> 赋值<span class="hljs-keyword">value</span><br>var data = res.<span class="hljs-keyword">map</span>(<span class="hljs-type">item</span> =&gt; &#123;<br>  <span class="hljs-keyword">return</span> &#123;<br>    text: <span class="hljs-type">item</span><span class="hljs-built_in">.name</span>,<br>    value: <span class="hljs-type">item</span><span class="hljs-built_in">.id</span>,<br>  &#125;<br>&#125;)<br></code></pre></td></tr></table></figure>

<h1 id="22、vuex"><a href="#22、vuex" class="headerlink" title="22、vuex"></a>22、vuex</h1><h1 id="23、获取元素高度，动态计算滚动区域高度"><a href="#23、获取元素高度，动态计算滚动区域高度" class="headerlink" title="23、获取元素高度，动态计算滚动区域高度"></a>23、获取元素高度，动态计算滚动区域高度</h1><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs kotlin">获取search &lt;view&gt;标签占用高度<br><br>uni.createSelectorQuery().<span class="hljs-keyword">in</span>(<span class="hljs-keyword">this</span>).select(<span class="hljs-string">&#x27;.search&#x27;</span>).boundingClientRect((rect) =&gt; &#123;<br><br> <span class="hljs-keyword">this</span>.searchHeight=rect.height<br><br>获取设备信息，通过设备高度计算出设备可用内容区域<br><br><span class="hljs-keyword">const</span> systemInfo = uni.getSystemInfoSync();<br><br> <span class="hljs-keyword">this</span>.scrollHeight=systemInfo.windowHeight-systemInfo.safeAreaInsets.top-systemInfo.safeAreaInsets.bottom-<span class="hljs-keyword">this</span>.searchHeight+<span class="hljs-string">&quot;px&quot;</span><br><br> &#125;).exec()<br></code></pre></td></tr></table></figure>

<h1 id="24、语音播报功能实现方案"><a href="#24、语音播报功能实现方案" class="headerlink" title="24、语音播报功能实现方案"></a>24、语音播报功能实现方案</h1><h3 id="方案一"><a href="#方案一" class="headerlink" title="方案一"></a>方案一</h3><p>利用安卓系统自带TTS语音合成引擎，在uniapp 插件市场找到TTS 语音合成插件即可</p>
<h3 id="方案二"><a href="#方案二" class="headerlink" title="方案二"></a>方案二</h3><p>人工合成语音文件，并编写方法进行调用</p>
<p>语音合成网址<a target="_blank" rel="noopener" href="https://www.luyinzhushou.com/text2voice/">https://www.luyinzhushou.com/text2voice/</a></p>
<p>需要将语音文件存放到staic&#x2F;music 目录下   </p>
<p>以_1.p3 , _a.mp3格式保存</p>
<p>将字符串拆分，并匹配对应语音文件名，创建队列列表，监听队列中一条语音播放完成后再次调用播放语音方法播放第二条语音，知道队列列表为空则停止播放。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs javascript">res 为所需要播放的字符串<br><span class="hljs-attr">playList</span>: <span class="hljs-title function_">throttle</span>(<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span>(<span class="hljs-params">res</span>) &#123;<br>     <span class="hljs-comment">// 正则表达将大写转小写</span><br>     <span class="hljs-keyword">let</span> newStr = res.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/[A-Z]/g</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">match</span>) &#123;<br>       <span class="hljs-keyword">return</span> match.<span class="hljs-title function_">toLowerCase</span>();<br>     &#125;);<br>  <span class="hljs-keyword">let</span> music = uni.<span class="hljs-title function_">createInnerAudioContext</span>();<br>  music.<span class="hljs-title function_">stop</span>()<br>  <span class="hljs-keyword">let</span> moneyArr = []<br>  moneyArr.<span class="hljs-title function_">push</span>(<span class="hljs-string">&quot;_qing&quot;</span>)<br>  <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(<span class="hljs-title class_">String</span>(newStr)).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> &#123;<br>   moneyArr.<span class="hljs-title function_">push</span>(<span class="hljs-string">&#x27;_&#x27;</span> + item)<br>  &#125;)<br>  moneyArr.<span class="hljs-title function_">push</span>(<span class="hljs-string">&quot;_hao&quot;</span>)<br>  <span class="hljs-keyword">let</span> arr = moneyArr.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> <span class="hljs-string">`/static/music/<span class="hljs-subst">$&#123;item&#125;</span>.mp3`</span>);<br>  <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">playVoice</span>(arr)<br>  uni.<span class="hljs-property">$u</span>.<span class="hljs-title function_">toast</span>(res + <span class="hljs-string">&#x27;号叫号成功&#x27;</span>)<br>&#125;, <span class="hljs-number">2000</span>),<br>语音播放方法<br>  <span class="hljs-title function_">playVoice</span>(<span class="hljs-params">arr</span>)&#123;<br>  <span class="hljs-keyword">let</span> music = uni.<span class="hljs-title function_">createInnerAudioContext</span>();<br>  music.<span class="hljs-property">src</span> = arr.<span class="hljs-title function_">shift</span>()<br>  music.<span class="hljs-title function_">play</span>()<br>  music.<span class="hljs-title function_">onError</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> &#123;<br>   uni.<span class="hljs-title function_">showToast</span>(&#123;<br>    <span class="hljs-attr">title</span>: res.<span class="hljs-property">errMsg</span>,<br>    <span class="hljs-attr">icon</span>: <span class="hljs-string">&quot;none&quot;</span>,<br>    <span class="hljs-attr">duration</span>: <span class="hljs-number">3000</span><br>   &#125;)<br>  &#125;)<br>  <span class="hljs-comment">// 解决实例化太多出现错误不播放问题</span><br>  music.<span class="hljs-title function_">onEnded</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> &#123;<br>   <span class="hljs-keyword">let</span> that = <span class="hljs-variable language_">this</span><br>   <span class="hljs-keyword">if</span> (arr.<span class="hljs-property">length</span> == <span class="hljs-number">0</span>) &#123;<br>    that.<span class="hljs-property">num</span> = <span class="hljs-number">0</span><br>    that.<span class="hljs-property">moneyArr</span> = []<br>    music.<span class="hljs-title function_">destroy</span>(); <span class="hljs-comment">// 销毁音频实例</span><br>         uni.<span class="hljs-property">$u</span>.<span class="hljs-title function_">toast</span>(<span class="hljs-string">&#x27;叫号完成&#x27;</span>)<br>   &#125; <span class="hljs-keyword">else</span> &#123;<br>    music.<span class="hljs-title function_">destroy</span>(); <span class="hljs-comment">// 销毁音频实例</span><br>    that.<span class="hljs-title function_">playVoice</span>(arr)<br>   &#125;<br>  &#125;)<br>&#125;, <br></code></pre></td></tr></table></figure>

<p>封装成为工具   toPlay   进行预先对音频数组处理，后调用设备音频实例进行数组顺序播放</p>
<figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs arcade">export <span class="hljs-keyword">function</span> <span class="hljs-title function_">toPlay</span>(<span class="hljs-params">list,type</span>) &#123;<br><span class="hljs-keyword">if</span> (status)&#123;<br>  <span class="hljs-comment">//   普通叫号方法</span><br>  <span class="hljs-keyword">if</span>(type==<span class="hljs-string">&#x27;call&#x27;</span>)&#123;<br>    <span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-string">&quot;播放地址type&quot;</span>,list)<br>    let newStr = list.<span class="hljs-built_in">replace</span>(<span class="hljs-regexp">/[A-Z]/g</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">match</span>) &#123;<br>      <span class="hljs-keyword">return</span> match.toLowerCase();<br>    &#125;);<br>    let moneyArr = []<br>    moneyArr.<span class="hljs-built_in">push</span>(<span class="hljs-string">&quot;_qing&quot;</span>)<br>    <span class="hljs-built_in">Array</span>.from(String(newStr)).forEach(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> &#123;<br>      moneyArr.<span class="hljs-built_in">push</span>(<span class="hljs-string">&#x27;_&#x27;</span> + item)<br>    &#125;)<br>    moneyArr.<span class="hljs-built_in">push</span>(<span class="hljs-string">&quot;_hao&quot;</span>)<br>    let arr = moneyArr.<span class="hljs-built_in">map</span>(<span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> <span class="hljs-string">`/static/music/<span class="hljs-subst">$&#123;item&#125;</span>.mp3`</span>);<br>    uni.<span class="hljs-symbol">$u</span>.toast(newStr+<span class="hljs-string">&#x27;号正在叫号&#x27;</span>)<br>    playVoice(arr)<br>  &#125;<br><span class="hljs-comment">// 订单</span><br>  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(type ==<span class="hljs-string">&#x27;order&#x27;</span>)&#123;<br>    <span class="hljs-comment">// let newStr = list.replace(/[A-Z]/g, function(match) &#123;</span><br>    <span class="hljs-comment">//   return match.toLowerCase();</span><br>    <span class="hljs-comment">// &#125;);</span><br>    let newStr =<span class="hljs-string">&#x27;order&#x27;</span><br>    let moneyArr = []<br>    moneyArr.<span class="hljs-built_in">push</span>(<span class="hljs-string">&#x27;_&#x27;</span> + newStr)<br>    <span class="hljs-comment">// Array.from(String(newStr)).forEach(item =&gt; &#123;</span><br>    <span class="hljs-comment">//   moneyArr.push(&#x27;_&#x27; + item)</span><br>    <span class="hljs-comment">// &#125;)</span><br>    let arr = moneyArr.<span class="hljs-built_in">map</span>(<span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> <span class="hljs-string">`/static/music/<span class="hljs-subst">$&#123;item&#125;</span>.mp3`</span>);<br>    <span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(arr)<br>    playVoice(arr)<br>  &#125;<br>&#125;<span class="hljs-keyword">else</span>&#123;<br>  uni.<span class="hljs-symbol">$u</span>.toast(<span class="hljs-string">&#x27;您有未完成的叫号请稍等&#x27;</span>)<br>&#125;<br><br>&#125;<br><br></code></pre></td></tr></table></figure>

<p>此处为音频播放</p>
<figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs arcade">export  <span class="hljs-keyword">function</span> <span class="hljs-title function_">playVoice</span>(<span class="hljs-params">arr</span>)&#123;<br>  let music = uni.createInnerAudioContext();<br>  music.src = arr.shift()<br>  status=<span class="hljs-literal">false</span><br>  music.play()<br>  music.onError(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> &#123;<br>    uni.showToast(&#123;<br>      <span class="hljs-attr">title</span>: res.errMsg,<br>      <span class="hljs-attr">icon</span>: <span class="hljs-string">&quot;none&quot;</span>,<br>      <span class="hljs-attr">duration</span>: <span class="hljs-number">3000</span><br>    &#125;)<br>  &#125;)<br>  <span class="hljs-comment">// 解决实例化太多出现错误不播放问题</span><br>  music.onEnded(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> &#123;<br>    let that = toPlay<br>    <span class="hljs-keyword">if</span> (arr.<span class="hljs-built_in">length</span> == <span class="hljs-number">0</span>) &#123;<br>      that.moneyArr = []<br>      music.destroy(); <span class="hljs-comment">// 销毁音频实例</span><br>      uni.<span class="hljs-symbol">$u</span>.toast(<span class="hljs-string">&#x27;叫号完成&#x27;</span>)<br>      status=<span class="hljs-literal">true</span><br>    &#125; <span class="hljs-keyword">else</span> &#123;<br><br>      music.destroy(); <span class="hljs-comment">// 销毁音频实例</span><br>      playVoice(arr)<br>    &#125;<br>  &#125;)<br>&#125;<br></code></pre></td></tr></table></figure>

<p>使用工具方式</p>
<p>区分不同的需求，call为叫号模式， 请    XXX   号顾客取餐     </p>
<p>音频文件分别为  _qing.mp3      —-     _hao.mp3</p>
<figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs haxe">let <span class="hljs-keyword">new</span><span class="hljs-type">Str</span> = <span class="hljs-keyword">String</span>(item).replace(/[^a-zA-Z0<span class="hljs-number">-9</span>]/g, <span class="hljs-string">&#x27;&#x27;</span>);   利用正则表达式去除中文或者其他字符 <br><span class="hljs-built_in">this</span>.$util.toPlay(<span class="hljs-keyword">new</span><span class="hljs-type">Str</span>,<span class="hljs-string">&#x27;call&#x27;</span>)    <br>OR<br><span class="hljs-built_in">this</span>.$util.toPlay(<span class="hljs-string">&#x27;&#x27;</span>,<span class="hljs-string">&#x27;order&#x27;</span>)  <br></code></pre></td></tr></table></figure>



<h1 id="25、防抖和节流函数的使用"><a href="#25、防抖和节流函数的使用" class="headerlink" title="25、防抖和节流函数的使用"></a>25、防抖和节流函数的使用</h1><h3 id="函数防抖执行所有点击的最后一次。（debounce）"><a href="#函数防抖执行所有点击的最后一次。（debounce）" class="headerlink" title="函数防抖执行所有点击的最后一次。（debounce）"></a>函数防抖执行所有点击的最后一次。（debounce）</h3><h3 id="函数节流执行所有点击的第一次。-throttle"><a href="#函数节流执行所有点击的第一次。-throttle" class="headerlink" title="函数节流执行所有点击的第一次。(throttle)"></a>函数节流执行所有点击的第一次。(throttle)</h3><p>可以放置于工具JS类 中</p>
<p>在需要使用的方法中引入工具</p>
<p>并且使用方法，定义防抖或者节流时间。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//playList 这个是函数方法名。res为函数接受的值</span><br><span class="hljs-attr">playList</span>: <span class="hljs-title function_">throttle</span>(<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span>(<span class="hljs-params">res</span>) &#123;<br>此处放置函数方法<br>&#125;,<span class="hljs-number">1000</span>)<br><span class="hljs-attr">test</span>:<span class="hljs-title function_">debounce</span>(<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;放置函数位置&quot;</span>)<br>&#125;,<span class="hljs-number">800</span>)<br><br></code></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">/*防止多次点击函数防抖只执行最后一次*/</span><br>防抖函数<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">debounce</span>(<span class="hljs-params">fn, time</span>) &#123;<br>  <span class="hljs-keyword">let</span> timer = <span class="hljs-literal">null</span><br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">if</span> (timer) &#123;<br>      <span class="hljs-built_in">clearTimeout</span>(timer)<br>    &#125;<br>    timer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>      fn.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-variable language_">arguments</span>)<br>    &#125;, time)<br>  &#125;<br>&#125;<br><span class="hljs-comment">// 防止多次点击跳转（函数节流）</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">throttle</span>(<span class="hljs-params">fn, gapTime</span>) &#123;<br>  <span class="hljs-keyword">if</span> (gapTime == <span class="hljs-literal">null</span> || gapTime == <span class="hljs-literal">undefined</span>) &#123;<br>    gapTime = <span class="hljs-number">1500</span>;<br>  &#125;<br><br>  <span class="hljs-keyword">let</span> _lastTime = <span class="hljs-literal">null</span>;<br><br>  <span class="hljs-comment">// 返回新的函数</span><br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">let</span> _nowTime = +<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>();<br>    <span class="hljs-keyword">if</span> (_nowTime - _lastTime &gt; gapTime || !_lastTime) &#123;<br>      fn.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-variable language_">arguments</span>); <span class="hljs-comment">//将this和参数传给原函数</span><br>      _lastTime = _nowTime;<br>    &#125;<br>  &#125;;<br>&#125;<br></code></pre></td></tr></table></figure>

<h1 id="26、时间差计算"><a href="#26、时间差计算" class="headerlink" title="26、时间差计算"></a>26、时间差计算</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> currentTime = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>();<br>r.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> &#123;<br>  <span class="hljs-keyword">let</span> orderTime = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(item.<span class="hljs-property">orderDate</span>);<br>  <span class="hljs-keyword">let</span> timeDifference = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>((orderTime - currentTime) / <span class="hljs-number">60000</span>);<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;时间差：&quot;</span> + timeDifference + <span class="hljs-string">&quot;分钟&quot;</span>);<br>  <span class="hljs-keyword">if</span> (item.<span class="hljs-property">orderStatus</span> === <span class="hljs-string">&#x27;0&#x27;</span>) &#123;<br>    item.<span class="hljs-property">waitingTime</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">abs</span>(timeDifference)<br>  &#125;<br>&#125;)<br></code></pre></td></tr></table></figure>

<h1 id="27、获取当月天数"><a href="#27、获取当月天数" class="headerlink" title="27、获取当月天数"></a>27、获取当月天数</h1><figure class="highlight qml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs qml"><span class="hljs-comment">// 获取当月天数</span><br><span class="hljs-keyword">const</span> <span class="hljs-built_in">date</span> = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>();<br><span class="hljs-keyword">const</span> length = <span class="hljs-keyword">new</span>  <span class="hljs-built_in">Date</span>(<span class="hljs-built_in">date</span>.getFullYear(), <span class="hljs-built_in">date</span>.getMonth(), <span class="hljs-number">0</span>).getDate();<br></code></pre></td></tr></table></figure>

<h1 id="28、打包参数（分包整合）"><a href="#28、打包参数（分包整合）" class="headerlink" title="28、打包参数（分包整合）"></a>28、打包参数（分包整合）</h1><p>业务场景为同一个uniapp小程序，需要打包为现有小程序的分包，需要在现有小程序中配置分包小程序的page.json 页面。后可在需要打包的uniapp小程序中配置package.json文件，像如下所示配置启动参数subPackages</p>
<figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs n1ql">&quot;<span class="hljs-keyword">build</span>:mp-weixinsub<span class="hljs-string">&quot;: &quot;</span>cross-env NODE_ENV=subPackages UNI_PLATFORM=mp-weixin vue-cli-service uni-<span class="hljs-keyword">build</span> --watch --minimize<span class="hljs-string">&quot;,</span><br></code></pre></td></tr></table></figure>

<p>随后在uniapp小程序的config.js文件中配置分包参数</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs awk">switch (process.env.NODE_ENV) &#123;<br>    <span class="hljs-regexp">//</span>     打分包时候参数 分包命令build:mp-weixinsub<br>    case <span class="hljs-string">&quot;subPackages&quot;</span>:<br>       subPackages=<span class="hljs-string">&quot;drive&quot;</span><br>       <span class="hljs-regexp">//</span> baseUrl = <span class="hljs-string">&quot;https://print.yncloudsaas.com/prod-api&quot;</span> <span class="hljs-regexp">//</span>这里是本地的请求<br>          baseUrl = <span class="hljs-string">&quot;http://10.14.22.6:8081&quot;</span> <span class="hljs-regexp">//</span>这里是本地的请求<br>       <span class="hljs-keyword">break</span>;<br>       <span class="hljs-regexp">//</span>普通打包形式时候<br>    case <span class="hljs-string">&quot;production&quot;</span>:<br>       <span class="hljs-regexp">//</span> baseUrl = <span class="hljs-string">&quot;http://192.168.0.110:9999&quot;</span> <span class="hljs-regexp">//</span>这里是本地的请求<br>       <span class="hljs-regexp">//</span> baseUrl = <span class="hljs-string">&quot;https://print.world-cloud.cn/prod-api&quot;</span> <span class="hljs-regexp">//</span>这里是本地的请求<br>       baseUrl = <span class="hljs-string">&quot;https://print.yncloudsaas.com/prod-api&quot;</span> <span class="hljs-regexp">//</span>这里是本地的请求<br>       <span class="hljs-regexp">//</span> baseUrl = <span class="hljs-string">&quot;http://8.130.13.206&quot;</span> <span class="hljs-regexp">//</span>这里是本地的请求<br>       <span class="hljs-regexp">//</span>   baseWsUrl = <span class="hljs-string">&quot;WS://192.168.1.108:8080&quot;</span>; <span class="hljs-regexp">//</span>这里是本地的请求<br>       <span class="hljs-keyword">break</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>随后即可在页面中引入subPackages</p>
<figure class="highlight capnproto"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs capnproto"><span class="hljs-keyword">import</span> &#123;subPackages&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@/common/config&quot;</span>;<br></code></pre></td></tr></table></figure>

<p>利用其值进行页面跳转路径的修改配置及其他配置</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm"><span class="hljs-keyword">subPackages: </span><span class="hljs-keyword">subPackages </span>=== undefined ? <span class="hljs-string">&quot;&quot;</span> : <span class="hljs-string">&quot;drive/&quot;</span>,<br></code></pre></td></tr></table></figure>

<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs actionscript">icon: subPackages === <span class="hljs-literal">undefined</span> ? <span class="hljs-string">&#x27; &#x27;</span> : <span class="hljs-string">&#x27;arrow-left&#x27;</span>,<br></code></pre></td></tr></table></figure>

<h1 id="29、uni-navTo-页面跳转方法（封装跳转方法）"><a href="#29、uni-navTo-页面跳转方法（封装跳转方法）" class="headerlink" title="29、uni.navTo 页面跳转方法（封装跳转方法）"></a>29、uni.navTo 页面跳转方法（封装跳转方法）</h1><p>方法可以结合打包方式的不同进行按需跳转，具有打包参数时候则跳转前加入打包参数地址连接进行正常跳转。</p>
<p>将其方法定义到util.js工具类中</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">navTo</span>(<span class="hljs-params">url, query = &#123;&#125;, <span class="hljs-keyword">type</span> = <span class="hljs-string">&#x27;nav&#x27;</span></span>) &#123;<br>    <span class="hljs-keyword">if</span> (!url || url.<span class="hljs-property">length</span> == <span class="hljs-number">0</span>) &#123;<br>       <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span><br>    &#125;<br>    <span class="hljs-comment">//返回上页面</span><br>    <span class="hljs-keyword">if</span> (url == <span class="hljs-string">&#x27;back&#x27;</span>) &#123;<br>       uni.<span class="hljs-title function_">navigateBack</span>(&#123;<br>          <span class="hljs-attr">delta</span>: <span class="hljs-number">1</span><br>       &#125;)<br>       <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span><br>    &#125;<br>    <span class="hljs-comment">// tabBar页面, 使用switchTab判断跳转页面是不是tabbar页面</span><br>    <span class="hljs-keyword">if</span> (tabBarLinks.<span class="hljs-title function_">includes</span>(url)) &#123;<br>       uni.<span class="hljs-title function_">switchTab</span>(&#123;<br>          <span class="hljs-attr">url</span>: <span class="hljs-string">`/<span class="hljs-subst">$&#123;url&#125;</span>`</span><br>       &#125;)<br>       <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span><br>    &#125;<br>    <span class="hljs-comment">// 生成query参数</span><br>    <span class="hljs-keyword">const</span> queryStr = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(query).<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span> ? <span class="hljs-string">&#x27;?&#x27;</span> + <span class="hljs-title function_">urlEncode</span>(query) : <span class="hljs-string">&#x27;&#x27;</span>;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(queryStr)<br>    <span class="hljs-comment">// 判断打包方式，为打分包则跳转链接加入分包名称</span><br>    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">type</span> == <span class="hljs-string">&#x27;reL&#x27;</span>) &#123; 	<br>       <span class="hljs-keyword">if</span> (subPackages===<span class="hljs-literal">undefined</span>)&#123;<br>          <span class="hljs-comment">// 普通页面, 使用navigateTo</span><br>          uni.<span class="hljs-title function_">reLaunch</span>(&#123;<br>             <span class="hljs-attr">url</span>: <span class="hljs-string">`/<span class="hljs-subst">$&#123;url&#125;</span><span class="hljs-subst">$&#123;queryStr&#125;</span>`</span>,<br>             <span class="hljs-attr">fail</span>: <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> &#123;<br>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(e)<br>             &#125;<br>          &#125;)<br>       &#125;<span class="hljs-keyword">else</span>&#123;<br>          <span class="hljs-comment">// 普通页面, 使用navigateTo</span><br>          uni.<span class="hljs-title function_">reLaunch</span>(&#123;<br>             <span class="hljs-attr">url</span>: <span class="hljs-string">`/<span class="hljs-subst">$&#123;subPackages&#125;</span>/<span class="hljs-subst">$&#123;url&#125;</span><span class="hljs-subst">$&#123;queryStr&#125;</span>`</span>,<br>             <span class="hljs-attr">fail</span>: <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> &#123;<br>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(e)<br>             &#125;<br>          &#125;)<br>       &#125;<br><br>    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">type</span> == <span class="hljs-string">&#x27;nav&#x27;</span>) &#123;<br>       <span class="hljs-comment">// 判断打包方式，undefined 为普通打包，drive 时为打分包</span><br>       <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(subPackages)<br>       <span class="hljs-keyword">if</span> (subPackages===<span class="hljs-literal">undefined</span>)&#123;<br>          <span class="hljs-comment">// 普通页面, 使用navigateTo</span><br>          uni.<span class="hljs-title function_">navigateTo</span>(&#123;<br>             <span class="hljs-attr">url</span>: <span class="hljs-string">`/<span class="hljs-subst">$&#123;url&#125;</span><span class="hljs-subst">$&#123;queryStr&#125;</span>`</span>,<br>             <span class="hljs-attr">fail</span>: <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> &#123;<br>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(e)<br>             &#125;<br>          &#125;)<br>       &#125;<span class="hljs-keyword">else</span>&#123;<br>          <span class="hljs-comment">// 普通页面, 使用navigateTo</span><br>          uni.<span class="hljs-title function_">navigateTo</span>(&#123;<br>             <span class="hljs-attr">url</span>: <span class="hljs-string">`/<span class="hljs-subst">$&#123;subPackages&#125;</span>/<span class="hljs-subst">$&#123;url&#125;</span><span class="hljs-subst">$&#123;queryStr&#125;</span>`</span>,<br>             <span class="hljs-attr">fail</span>: <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> &#123;<br>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(e)<br>             &#125;<br>          &#125;)<br>       &#125;<br>    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">type</span> == <span class="hljs-string">&#x27;reD&#x27;</span>) &#123;<br>       <span class="hljs-keyword">if</span> (subPackages===<span class="hljs-literal">undefined</span>)&#123;<br>          uni.<span class="hljs-title function_">redirectTo</span>(&#123;<br>             <span class="hljs-attr">url</span>: <span class="hljs-string">`/<span class="hljs-subst">$&#123;url&#125;</span><span class="hljs-subst">$&#123;queryStr&#125;</span>`</span>,<br>             <span class="hljs-attr">fail</span>: <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> &#123;<br>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(e)<br>             &#125;<br>          &#125;)<br>       &#125;<span class="hljs-keyword">else</span>&#123;<br>          uni.<span class="hljs-title function_">redirectTo</span>(&#123;<br>             <span class="hljs-attr">url</span>: <span class="hljs-string">`/<span class="hljs-subst">$&#123;subPackages&#125;</span>/<span class="hljs-subst">$&#123;url&#125;</span><span class="hljs-subst">$&#123;queryStr&#125;</span>`</span>,<br>             <span class="hljs-attr">fail</span>: <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> &#123;<br>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(e)<br>             &#125;<br>          &#125;)<br>       &#125;<br><br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p>使用方法进行请求</p>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">this.$util.nav<span class="hljs-constructor">To(&#x27;<span class="hljs-params">pages</span><span class="hljs-operator">/</span><span class="hljs-params">guidance</span><span class="hljs-operator">/</span><span class="hljs-params">guidance</span>&#x27;)</span><br></code></pre></td></tr></table></figure>

<h1 id="30、时间戳转换"><a href="#30、时间戳转换" class="headerlink" title="30、时间戳转换"></a>30、时间戳转换</h1><p>1、获取当前时间戳</p>
<figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>()<br></code></pre></td></tr></table></figure>

<p>2、时间戳精确到毫秒</p>
<figure class="highlight vbscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vbscript"><span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>().<span class="hljs-keyword">get</span><span class="hljs-built_in">Time</span>()<br></code></pre></td></tr></table></figure>

<p>3、时间戳精确到秒</p>
<figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-built_in">Date</span>.parse(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>()) / <span class="hljs-number">1000</span><br></code></pre></td></tr></table></figure>

<p>4、时间字符串转换为时间戳（精确值同理）</p>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs reasonml"><span class="hljs-keyword">new</span> <span class="hljs-constructor">Date(<span class="hljs-params">deliveryTime</span>)</span><br></code></pre></td></tr></table></figure>

<h1 id="31、跨页面方法调用及数据传输"><a href="#31、跨页面方法调用及数据传输" class="headerlink" title="31、跨页面方法调用及数据传输"></a>31、跨页面方法调用及数据传输</h1><p>A.page页面	</p>
<figure class="highlight lasso"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs lasso">uni.$emit(<span class="hljs-string">&#x27;eventName&#x27;</span>,<span class="hljs-built_in">data</span>) <br>事件名，以及对应传递的数据<br></code></pre></td></tr></table></figure>

<p>B.page页面</p>
<figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs coffeescript">create()&#123;<br>uni.$<span class="hljs-literal">on</span>(<span class="hljs-string">&#x27;eventName&#x27;</span>,<span class="hljs-function"><span class="hljs-params">(option)</span>=&gt;</span>&#123;<br>执行的方法，option 为接收到的数据<br>&#125;)<br>&#125;<br>onload()&#123;<br>uni.$<span class="hljs-literal">on</span>(<span class="hljs-string">&#x27;eventName&#x27;</span>,<span class="hljs-function"><span class="hljs-params">(option)</span>=&gt;</span>&#123;<br>执行的方法，option 为接收到的数据<br>&#125;)<br>&#125;<br></code></pre></td></tr></table></figure>

<h1 id="32、实现tabbar-切换，内容区域滚动-并且适配底部安全区域"><a href="#32、实现tabbar-切换，内容区域滚动-并且适配底部安全区域" class="headerlink" title="32、实现tabbar 切换，内容区域滚动,并且适配底部安全区域"></a>32、实现tabbar 切换，内容区域滚动,并且适配底部安全区域</h1><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs abnf">const res <span class="hljs-operator">=</span> uni.getSystemInfoSync()<span class="hljs-comment">;</span><br>res.safeAreaInsets.bottom    底部栏	<br></code></pre></td></tr></table></figure>

<p>通过计算属性，计算出tabbar以及状态栏高度等信息，并计算出滚动内容区域高度。达到适配效果。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-attr">computed</span>: &#123;<br>  <span class="hljs-comment">//页面高度计算</span><br>  <span class="hljs-title function_">contentHeight</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-comment">// 获取某个元素高度</span><br>    uni.<span class="hljs-title function_">createSelectorQuery</span>().<span class="hljs-title function_">in</span>(<span class="hljs-variable language_">this</span>).<span class="hljs-title function_">select</span>(<span class="hljs-string">&#x27;.tabbar&#x27;</span>).<span class="hljs-title function_">boundingClientRect</span>(<span class="hljs-function">(<span class="hljs-params">rect</span>) =&gt;</span> &#123;<br>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">tabbarHeight</span> = rect.<span class="hljs-property">height</span>   <span class="hljs-comment">//获取tabbar高度</span><br>    &#125;).<span class="hljs-title function_">exec</span>()<br>    <br>    <span class="hljs-keyword">const</span> res = uni.<span class="hljs-title function_">getSystemInfoSync</span>();  <span class="hljs-comment">//获取系统信息</span><br>    <span class="hljs-keyword">let</span> nav = <span class="hljs-number">44</span> + res.<span class="hljs-property">statusBarHeight</span>   <span class="hljs-comment">//微信nav拦高度44px</span><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">paddingBottom</span>=res.<span class="hljs-property">safeAreaInsets</span>.<span class="hljs-property">bottom</span> +<span class="hljs-string">&#x27;px&#x27;</span>   <br>    <span class="hljs-keyword">return</span> res.<span class="hljs-property">windowHeight</span> -res.<span class="hljs-property">safeAreaInsets</span>.<span class="hljs-property">bottom</span> - <span class="hljs-variable language_">this</span>.<span class="hljs-property">tabbarHeight</span> - <span class="hljs-number">10</span> - nav + <span class="hljs-string">&#x27;px&#x27;</span><br>  <span class="hljs-comment">//屏幕高度-底部拦高度-tabbar高度-头部高度-10（滚动区域的边距值）+‘px’ 单位，，得到最终的滚动内容区域高度。</span><br>  &#125;,<br>&#125;,<br></code></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;scroll-view scroll-y=<span class="hljs-string">&quot;true&quot;</span> :style=<span class="hljs-string">&quot;&#123;height: contentHeight,paddingBottom: paddingBottom&#125;&quot;</span>  <span class="hljs-keyword">class</span>=<span class="hljs-string">&quot;content-info&quot;</span> scroll-<span class="hljs-keyword">with</span>-animation=<span class="hljs-string">&quot;true&quot;</span><br>    ···<br>&lt;/scroll-view&gt;<br>contentHeight为计算函数所计算出的高度值。<br>paddingBottom 为了适配底部预留的高度，防止出现背景颜色不同。<br> <span class="hljs-variable language_">this</span>.<span class="hljs-property">paddingBottom</span>=res.<span class="hljs-property">safeAreaInsets</span>.<span class="hljs-property">bottom</span> +<span class="hljs-string">&#x27;px&#x27;</span>   <br></code></pre></td></tr></table></figure>

<h1 id="33、滚动到某个位置scroll-view"><a href="#33、滚动到某个位置scroll-view" class="headerlink" title="33、滚动到某个位置scroll-view"></a>33、滚动到某个位置scroll-view</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;scroll-view scroll-y=<span class="hljs-string">&quot;true&quot;</span> :style=<span class="hljs-string">&quot;&#123;height: contentHeight,paddingBottom: paddingBottom&#125;&quot;</span>  <span class="hljs-keyword">class</span>=<span class="hljs-string">&quot;content-info&quot;</span> scroll-<span class="hljs-keyword">with</span>-animation=<span class="hljs-string">&quot;true&quot;</span><br>  &lt;view :id=<span class="hljs-string">&#x27;item.id&#x27;</span>&gt;<br>          <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;display: flex;margin-bottom: 10px&quot;</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;left&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>&#123;&#123; item.name &#125;&#125;</span><br><span class="language-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></span><br>          &lt;!--富文本--&gt;<br>          <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">rich-text</span> <span class="hljs-attr">:nodes</span>=<span class="hljs-string">&quot;item.info&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">rich-text</span>&gt;</span></span><br>        &lt;/view&gt;<br>&lt;/scroll-view&gt;<br>此时的item.<span class="hljs-property">id</span> 为 <span class="hljs-attr">id</span>: <span class="hljs-string">&quot;JS&quot;</span>,不以数字开头。<br></code></pre></td></tr></table></figure>

<p>其中关键语句：:scroll-into-view&#x3D;”top”  top为string值也就是需要跳转记录的id值</p>
<p>！id不能以数字开头</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">this</span>.<span class="hljs-property">top</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">selectIndex</span> = item.<span class="hljs-property">id</span><br></code></pre></td></tr></table></figure>

<p>scroll-with-animation&#x3D;”true”	过渡动画效果。</p>
<h1 id="34、商品分类滚动联动效果"><a href="#34、商品分类滚动联动效果" class="headerlink" title="34、商品分类滚动联动效果"></a>34、商品分类滚动联动效果</h1><p>滚动条</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;scroll-view scroll-y=<span class="hljs-string">&quot;true&quot;</span> :scroll-top=<span class="hljs-string">&quot;top&quot;</span> :style=<span class="hljs-string">&quot;&#123;height: contentHeight,paddingBottom: paddingBottom&#125;&quot;</span>  <span class="hljs-keyword">class</span>=<span class="hljs-string">&quot;content-info&quot;</span> scroll-<span class="hljs-keyword">with</span>-animation=<span class="hljs-string">&quot;true&quot;</span><br>              @scroll=<span class="hljs-string">&quot;switchaaa&quot;</span>  &gt;  switchaaa方法监听滚动<br>&lt;view <span class="hljs-keyword">class</span>=<span class="hljs-string">&quot;test&quot;</span> style=<span class="hljs-string">&quot;margin:0 10px&quot;</span> v-<span class="hljs-keyword">for</span>=<span class="hljs-string">&quot;item in tabbarList&quot;</span> :key=<span class="hljs-string">&quot;item&quot;</span>&gt;<br>        <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">:id</span>=<span class="hljs-string">&#x27;item.id&#x27;</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;display: flex;margin-bottom: 10px ;&quot;</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;left&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>&#123;&#123; item.name &#125;&#125;</span><br><span class="language-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-comment">&lt;!--          富文本--&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">rich-text</span> <span class="hljs-attr">:nodes</span>=<span class="hljs-string">&quot;item.info&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">rich-text</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></span><br>      &lt;/view&gt;<br></code></pre></td></tr></table></figure>

<p>tab栏</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;view style=<span class="hljs-string">&quot;&quot;</span> <span class="hljs-keyword">class</span>=<span class="hljs-string">&quot;tabbar&quot;</span>&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;text-back&quot;</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">&quot;&#123;select:selectIndex===index&#125;&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;tabbarSelect(item,index)&quot;</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;index&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">:id</span>=<span class="hljs-string">&quot;item.id&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(item,index) in tabbarList&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>&#123;&#123; item.name &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></span><br>&lt;/view&gt;<br></code></pre></td></tr></table></figure>

<p>核心代码，，通过下面代码获取上边tab栏的left 值存数组</p>
<p>获取滚动列表的top 值存数组</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> query = uni.<span class="hljs-title function_">createSelectorQuery</span>().<span class="hljs-title function_">in</span>(<span class="hljs-variable language_">this</span>);<br>query.<span class="hljs-title function_">selectAll</span>(<span class="hljs-string">&#x27;.text-back&#x27;</span>).<span class="hljs-title function_">boundingClientRect</span>(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> &#123;<br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">leftDomsTop</span> = data.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">v</span> =&gt;</span> v.<span class="hljs-property">left</span>)<br>&#125;).<span class="hljs-title function_">exec</span>();<br>query.<span class="hljs-title function_">selectAll</span>(<span class="hljs-string">&#x27;.test&#x27;</span>).<span class="hljs-title function_">boundingClientRect</span>(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> &#123;<br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">rightDomsTop</span> = data.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">v</span> =&gt;</span> v.<span class="hljs-property">top</span>-<span class="hljs-number">132</span>)  <span class="hljs-comment">//根据实际情况调整</span><br>&#125;).<span class="hljs-title function_">exec</span>();<br></code></pre></td></tr></table></figure>

<p>tab拦切换时候方法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title function_">tabbarSelect</span>(<span class="hljs-params">item,index</span>) &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">selectIndex</span> = index    <br>       <span class="hljs-variable language_">this</span>.<span class="hljs-property">status</span> = index<br>   <br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js">利用监听实现对快速tab切换的节流操作<br><span class="hljs-attr">watch</span>: &#123;<br>  <span class="hljs-title function_">status</span>(<span class="hljs-params">old</span>) &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">top</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rightDomsTop</span>[old]<br>  &#125;<br>&#125;,<br></code></pre></td></tr></table></figure>

<p>监听滚动位置，与滚动top判断，如果小于则切换tab为当前的 top索引值</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">async</span> <span class="hljs-title function_">switchaaa</span>(<span class="hljs-params">e</span>)&#123;<br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">rightDomsTop</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">v, k</span>) =&gt;</span> &#123;<br>        <span class="hljs-keyword">if</span> (v &lt; e.<span class="hljs-property">detail</span>.<span class="hljs-property">scrollTop</span> +<span class="hljs-number">11</span>) &#123; <span class="hljs-comment">//参数根据实际情况调整</span><br>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">selectIndex</span> = k<br>          <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span><br>        &#125;<br>  &#125;)<br>&#125;,<br></code></pre></td></tr></table></figure>

<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs ruby">可利用伪类将最后一个（第三个）类别高度铺满，避免出现滚动到最后一列，tab显示为第二的bug<br>.content-info <span class="hljs-symbol">:nth-of-type</span>(<span class="hljs-number">3</span>)&#123;  <span class="hljs-regexp">//content</span>-info 的第三个子元素<br>  <span class="hljs-symbol">height:</span> <span class="hljs-number">100</span>%;<br>&#125;<br></code></pre></td></tr></table></figure>

<h1 id="35、获取当前日期的前一周"><a href="#35、获取当前日期的前一周" class="headerlink" title="35、获取当前日期的前一周"></a>35、获取当前日期的前一周</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title function_">getTime</span>(<span class="hljs-params"></span>) &#123;<br>      <span class="hljs-keyword">let</span> today = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>();<br>      <span class="hljs-keyword">let</span> month = today.<span class="hljs-title function_">getMonth</span>() + <span class="hljs-number">1</span><br>      <span class="hljs-comment">// 获取一周前的日期</span><br>      <span class="hljs-keyword">let</span> startOfWeek = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(today.<span class="hljs-title function_">setDate</span>(today.<span class="hljs-title function_">getDate</span>() - <span class="hljs-number">6</span>));<br>      <span class="hljs-comment">// 一周时间</span><br>      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">7</span>; j++) &#123;<br>        <span class="hljs-keyword">let</span> day = <span class="hljs-title class_">String</span>(month) + <span class="hljs-string">&#x27;-&#x27;</span> + (<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(startOfWeek).<span class="hljs-title function_">getDate</span>() + j)<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">dayList</span>.<span class="hljs-title function_">push</span>(day)<br>      &#125;<br>    &#125;,<br></code></pre></td></tr></table></figure>

<h1 id="36、手搓日历组件"><a href="#36、手搓日历组件" class="headerlink" title="36、手搓日历组件"></a>36、手搓日历组件</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;view <span class="hljs-keyword">class</span>=<span class="hljs-string">&quot;calendar&quot;</span>&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;calendar-weekdays&quot;</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;weekday&quot;</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;day in weekdays&quot;</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;day&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;weekdayName&quot;</span>&gt;</span>&#123;&#123; day &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></span><br>  &lt;!--      日期--&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;calendar-days&quot;</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;day-row&quot;</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(week, index) in currentMonthDates&quot;</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;index&quot;</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">&quot;selectIndex===index&amp;&amp;selectdayIndex===dayIndex&amp;&amp;day?&#x27;day1&#x27;:&#x27;day&#x27;&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">            <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(day, dayIndex) in week&quot;</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;dayIndex&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;info(index,dayIndex)&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">&quot;day &gt; 0&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;dayName&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">                                   <span class="hljs-attr">:style</span>=<span class="hljs-string">&quot;&#123;color:selectIndex===index&amp;&amp;selectdayIndex===dayIndex?&#x27;#2C7EFC&#x27;:&#x27;&#x27;&#125;&quot;</span>&gt;</span></span><br><span class="language-xml">          &#123;&#123; day &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">&quot;show&quot;</span>&gt;</span>&#123;&#123; info[index][dayIndex]&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-comment">&lt;!--            &lt;view :class=&quot;[&#x27;work&#x27;,dayIndex&lt;2?&#x27;active&#x27;:&#x27;active1&#x27;]&quot;&gt;&#123;&#123; index &#125;&#125;&lt;/view&gt;--&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></span><br><span class="hljs-comment">//获取日历列表的日期信息，与真实日期信息统一</span><br> <span class="hljs-title function_">getCurrentMonthDates</span>(<span class="hljs-params"></span>) &#123;<br>      <span class="hljs-keyword">const</span> now = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>();<br>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentYear</span> = now.<span class="hljs-title function_">getFullYear</span>();<br>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentMonth</span> = now.<span class="hljs-title function_">getMonth</span>() + <span class="hljs-number">1</span>;<br>      <span class="hljs-keyword">let</span> firstDayOfMonth = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">currentYear</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentMonth</span> - <span class="hljs-number">1</span>, <span class="hljs-number">1</span>);<br>      <span class="hljs-keyword">let</span> lastDayOfMonth = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">currentYear</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentMonth</span>, <span class="hljs-number">0</span>);<br>      <span class="hljs-keyword">let</span> dayOfWeek = firstDayOfMonth.<span class="hljs-title function_">getDay</span>();<br>      <span class="hljs-keyword">let</span> daysInMonth = lastDayOfMonth.<span class="hljs-title function_">getDate</span>();<br>      <span class="hljs-keyword">let</span> date = <span class="hljs-number">1</span>;<br>      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">6</span>; i++) &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentMonthDates</span>[i] = [];<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">7</span>; j++) &#123;<br>          <span class="hljs-keyword">if</span> (i === <span class="hljs-number">0</span> &amp;&amp; j &lt; dayOfWeek) &#123;<br>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentMonthDates</span>[i][j] = <span class="hljs-string">&#x27;&#x27;</span>;<br>          &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (date &lt;= daysInMonth) &#123;<br>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentMonthDates</span>[i][j] = date++;<br>          &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentMonthDates</span>[i][j] = <span class="hljs-string">&#x27;&#x27;</span>;<br>          &#125;<br>        &#125;<br>      &#125;<br>    &#125;,<br>  <span class="hljs-title function_">getDateF</span>(<span class="hljs-params"></span>) &#123;<br>      <span class="hljs-comment">// 创建一个映射来快速查找 time -&gt; type</span><br>      <span class="hljs-keyword">const</span> timeTypeMap = <span class="hljs-variable language_">this</span>.<span class="hljs-property">lateAndEarlyList</span>.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">map, item</span>) =&gt;</span> &#123;<br>        <span class="hljs-keyword">const</span> time = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">timeSelect</span>(item.<span class="hljs-property">time</span>)[<span class="hljs-number">0</span>];<br>        <span class="hljs-keyword">if</span> (time) &#123;<br>          map[time] = item.<span class="hljs-property">type</span>;<br>        &#125;<br>        <span class="hljs-keyword">return</span> map;<br>      &#125;, &#123;&#125;);<br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(timeTypeMap)<br>      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentMonthDates</span>.<span class="hljs-property">length</span>; j++) &#123;<br>        <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">info</span>[j]) &#123;<br>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">info</span>[j] = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">currentMonthDates</span>[j].<span class="hljs-property">length</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-string">&#x27;&#x27;</span>); <span class="hljs-comment">// 确保 info[j] 是一个与 currentMonthDates[j] 长度相同的空字符串数组</span><br>        &#125;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentMonthDates</span>[j].<span class="hljs-property">length</span>; i++) &#123;<br>          <span class="hljs-keyword">const</span> time = <span class="hljs-title class_">String</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">currentMonthDates</span>[j][i]);<br>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">info</span>[j][i] = timeTypeMap[time] || <span class="hljs-string">&#x27;&#x27;</span>; <span class="hljs-comment">// 使用映射来查找 type，如果找不到则设置为空字符串</span><br>        &#125;<br>      &#125;<br>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">show</span>=<span class="hljs-literal">true</span><br>      <span class="hljs-comment">// j为纵向</span><br>      <span class="hljs-comment">// i为横向</span><br>      <span class="hljs-comment">// for (let j = 0; j &lt; this.currentMonthDates.length; j++) &#123;</span><br>      <span class="hljs-comment">//   for (let i = 0; i &lt; this.currentMonthDates[j].length; i++) &#123;</span><br>      <span class="hljs-comment">//     for (let k = 0; k &lt; this.lateAndEarlyList.length; k++) &#123;</span><br>      <span class="hljs-comment">//        this.lateAndEarlyList.filter(() =&gt; &#123;</span><br>      <span class="hljs-comment">//         if (this.timeSelect(this.lateAndEarlyList[k].time)[0] === String(this.currentMonthDates[j][i])) &#123;</span><br>      <span class="hljs-comment">//           this.info[j][i] = this.lateAndEarlyList[k].type</span><br>      <span class="hljs-comment">//         &#125;</span><br>      <span class="hljs-comment">//         if (this.info[j][i])&#123;</span><br>      <span class="hljs-comment">//         &#125;else &#123;</span><br>      <span class="hljs-comment">//           this.info[j][i]=&quot;&quot;</span><br>      <span class="hljs-comment">//         &#125;</span><br>      <span class="hljs-comment">//       &#125;);</span><br>      <span class="hljs-comment">//</span><br>      <span class="hljs-comment">//       // return this.timeSelect(this.lateAndEarlyList[k].time)[0] ===String(this.currentMonthDates[j][i]);</span><br>      <span class="hljs-comment">//       // if (this.timeSelect(this.lateAndEarlyList[k].time)[0] === String(this.currentMonthDates[j][i])) &#123;</span><br>      <span class="hljs-comment">//       //   console.log(&quot;this.lateAndEarlyList[k].time&quot;,this.lateAndEarlyList[k].type)</span><br>      <span class="hljs-comment">//       //   this.info[j][i] =this.lateAndEarlyList[k].type</span><br>      <span class="hljs-comment">//       // &#125;else</span><br>      <span class="hljs-comment">//       // if (this.info[j][i])&#123;</span><br>      <span class="hljs-comment">//       //   this.info[j][i] = &quot;this.lateAndEarlyList[k].type&quot;</span><br>      <span class="hljs-comment">//       // &#125;</span><br>      <span class="hljs-comment">//       // console.log(&quot;this.lateAndEarlyList&quot;,this.timeSelect(this.lateAndEarlyList[k].time)[0])</span><br>      <span class="hljs-comment">//       // console.log(&quot;this.currentMonthDates[j][i]&quot;,String(this.currentMonthDates[j][i]))</span><br>      <span class="hljs-comment">//       // let lastItem = Array(filteredItems[filteredItems.length - 1]);</span><br>      <span class="hljs-comment">//       // if (lastItem[0]) &#123;</span><br>      <span class="hljs-comment">//       //   this.info[i] = lastItem[0].type</span><br>      <span class="hljs-comment">//       // &#125;</span><br>      <span class="hljs-comment">//     &#125;</span><br>      <span class="hljs-comment">//   &#125;</span><br>      <span class="hljs-comment">// &#125;</span><br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">info</span>)<br>    &#125;,<br></code></pre></td></tr></table></figure>

<h1 id="数据匹配"><a href="#数据匹配" class="headerlink" title="数据匹配"></a>数据匹配</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 创建一个映射来快速查找 time -&gt; type</span><br><span class="hljs-keyword">const</span> timeTypeMap = <span class="hljs-variable language_">this</span>.<span class="hljs-property">lateAndEarlyList</span>.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">map, item</span>) =&gt;</span> &#123;<br>  <span class="hljs-keyword">const</span> time = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">timeSelect</span>(item.<span class="hljs-property">time</span>)[<span class="hljs-number">0</span>];<br>  <span class="hljs-keyword">if</span> (time) &#123;<br>    map[time] = item.<span class="hljs-property">type</span>;<br>  &#125;<br>  <span class="hljs-keyword">return</span> map;<br>&#125;, &#123;&#125;);<br><span class="hljs-keyword">const</span> timeTypeMap2 = <span class="hljs-variable language_">this</span>.<span class="hljs-property">lateAndEarlyList</span>.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">map, item</span>) =&gt;</span> &#123;<br>  <span class="hljs-keyword">const</span> time = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">timeSelect</span>(item.<span class="hljs-property">time</span>)[<span class="hljs-number">0</span>];<br>  <span class="hljs-keyword">if</span> (time) &#123;<br>    map[time] = item.<span class="hljs-property">time</span>;<br>  &#125;<br><br>  <span class="hljs-keyword">return</span> map;<br><br>&#125;, &#123;&#125;);<br><span class="hljs-comment">// console.log(timeTypeMap2)</span><br><br><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentMonthDates</span>.<span class="hljs-property">length</span>; j++) &#123;<br>  <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">info</span>[j]) &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">info</span>[j] = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">currentMonthDates</span>[j].<span class="hljs-property">length</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-string">&#x27;&#x27;</span>); <span class="hljs-comment">// 确保 info[j] 是一个与 currentMonthDates[j] 长度相同的空字符串数组</span><br>  &#125;<br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentMonthDates</span>[j].<span class="hljs-property">length</span>; i++) &#123;<br>    <span class="hljs-keyword">const</span> time = <span class="hljs-title class_">String</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">currentMonthDates</span>[j][i]);<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">info</span>[j][i] = &#123;<span class="hljs-attr">time</span>: timeTypeMap2[time] || <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-attr">type</span>: timeTypeMap[time] || <span class="hljs-string">&#x27;&#x27;</span>&#125;; <span class="hljs-comment">// 使用映射来查找 type，如果找不到则设置为空字符串</span><br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br></pre></td><td class="code"><pre><code class="hljs js"><br>[<br>  &#123;<br>    <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;2024-05-09 06:25:22&quot;</span>,<br>    <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;3&quot;</span>,<br>    <span class="hljs-string">&quot;leDate&quot;</span>: <span class="hljs-string">&quot;2024-05-09 06:25:22 ~ 2024-05-09 20:49:55&quot;</span><br>  &#125;,<br>  &#123;<br>    <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;2024-05-10 17:07:38&quot;</span>,<br>    <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;1&quot;</span><br>  &#125;,<br>  &#123;<br>    <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;2024-05-11 08:25:22&quot;</span>,<br>    <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;3&quot;</span>,<br>    <span class="hljs-string">&quot;leDate&quot;</span>: <span class="hljs-string">&quot;2024-05-11 08:25:22 ~ 2024-05-11 18:10:22&quot;</span><br>  &#125;,<br>  &#123;<br>    <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;2024-05-12 07:10:22&quot;</span>,<br>    <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;3&quot;</span>,<br>    <span class="hljs-string">&quot;leDate&quot;</span>: <span class="hljs-string">&quot;2024-05-12 07:10:22 ~ 2024-05-12 19:26:22&quot;</span><br>  &#125;,<br>  &#123;<br>    <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;2024-05-11 16:37:57&quot;</span>,<br>    <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;0&quot;</span><br>  &#125;,<br>  &#123;<br>    <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;2024-05-13 10:08:09&quot;</span>,<br>    <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;2&quot;</span>,<br>    <span class="hljs-string">&quot;leDate&quot;</span>: <span class="hljs-string">&quot;2024-05-13 10:08:09 ~ 2024-05-13 14:35:41&quot;</span><br>  &#125;,<br>  &#123;<br>    <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;2024-05-15 08:30:22&quot;</span>,<br>    <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;3&quot;</span>,<br>    <span class="hljs-string">&quot;leDate&quot;</span>: <span class="hljs-string">&quot;2024-05-15 08:30:22 ~ 2024-05-15 18:00:22&quot;</span><br>  &#125;,<br>  &#123;<br>    <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;2024-05-16 09:31:37&quot;</span>,<br>    <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;2&quot;</span>,<br>    <span class="hljs-string">&quot;leDate&quot;</span>: <span class="hljs-string">&quot;2024-05-16 09:31:37 ~ 2024-05-16 16:32:49&quot;</span><br>  &#125;,<br>  &#123;<br>    <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;2024-05-17 18:00&quot;</span>,<br>    <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;-1&quot;</span><br>  &#125;,<br>  &#123;<br>    <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;2024-05-20 18:00&quot;</span>,<br>    <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;-1&quot;</span><br>  &#125;,<br>  &#123;<br>    <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;2024-05-21 11:48:49&quot;</span>,<br>    <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;2&quot;</span>,<br>    <span class="hljs-string">&quot;leDate&quot;</span>: <span class="hljs-string">&quot;2024-05-21 11:48:49 ~ 2024-05-21 14:06:05&quot;</span><br>  &#125;,<br>  &#123;<br>    <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;2024-05-22 09:51:03&quot;</span>,<br>    <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;0&quot;</span><br>  &#125;,<br>  &#123;<br>    <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;2024-05-23 05:49:21&quot;</span>,<br>    <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;0&quot;</span><br>  &#125;,<br>  &#123;<br>    <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;2024-05-24 18:00&quot;</span>,<br>    <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;-1&quot;</span><br>  &#125;,<br>]<br><br>和这个数组进行匹配，（生成的当月日历数据）<br>[<br>    [<br>        <span class="hljs-string">&quot;&quot;</span>,<br>        <span class="hljs-string">&quot;&quot;</span>,<br>        <span class="hljs-string">&quot;&quot;</span>,<br>        <span class="hljs-number">1</span>,<br>        <span class="hljs-number">2</span>,<br>        <span class="hljs-number">3</span>,<br>        <span class="hljs-number">4</span><br>    ],<br>    [<br>        <span class="hljs-number">5</span>,<br>        <span class="hljs-number">6</span>,<br>        <span class="hljs-number">7</span>,<br>        <span class="hljs-number">8</span>,<br>        <span class="hljs-number">9</span>,<br>        <span class="hljs-number">10</span>,<br>        <span class="hljs-number">11</span><br>    ],<br>    [<br>        <span class="hljs-number">12</span>,<br>        <span class="hljs-number">13</span>,<br>        <span class="hljs-number">14</span>,<br>        <span class="hljs-number">15</span>,<br>        <span class="hljs-number">16</span>,<br>        <span class="hljs-number">17</span>,<br>        <span class="hljs-number">18</span><br>    ],<br>    [<br>        <span class="hljs-number">19</span>,<br>        <span class="hljs-number">20</span>,<br>        <span class="hljs-number">21</span>,<br>        <span class="hljs-number">22</span>,<br>        <span class="hljs-number">23</span>,<br>        <span class="hljs-number">24</span>,<br>        <span class="hljs-number">25</span><br>    ],<br>    [<br>        <span class="hljs-number">26</span>,<br>        <span class="hljs-number">27</span>,<br>        <span class="hljs-number">28</span>,<br>        <span class="hljs-number">29</span>,<br>        <span class="hljs-number">30</span>,<br>        <span class="hljs-number">31</span>,<br>        <span class="hljs-string">&quot;&quot;</span><br>    ],<br>    [<br>        <span class="hljs-string">&quot;&quot;</span>,<br>        <span class="hljs-string">&quot;&quot;</span>,<br>        <span class="hljs-string">&quot;&quot;</span>,<br>        <span class="hljs-string">&quot;&quot;</span>,<br>        <span class="hljs-string">&quot;&quot;</span>,<br>        <span class="hljs-string">&quot;&quot;</span>,<br>        <span class="hljs-string">&quot;&quot;</span><br>    ]<br>]<br>最终得到的数组为<br>[<br>    [<br>        &#123;<br>            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>            <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;&quot;</span><br>        &#125;,<br>        &#123;<br>            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>            <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;&quot;</span><br>        &#125;,<br>        &#123;<br>            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>            <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;&quot;</span><br>        &#125;,<br>        &#123;<br>            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>            <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;&quot;</span><br>        &#125;,<br>        &#123;<br>            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>            <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;&quot;</span><br>        &#125;,<br>        &#123;<br>            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>            <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;&quot;</span><br>        &#125;,<br>        &#123;<br>            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>            <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;&quot;</span><br>        &#125;<br>    ],<br>    [<br>        &#123;<br>            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>            <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;&quot;</span><br>        &#125;,<br>        &#123;<br>            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>            <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;&quot;</span><br>        &#125;,<br>        &#123;<br>            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>            <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;&quot;</span><br>        &#125;,<br>        &#123;<br>            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>            <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;&quot;</span><br>        &#125;,<br>        &#123;<br>            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>            <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;&quot;</span><br>        &#125;,<br>        &#123;<br>            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;2024-05-10 17:07:38&quot;</span>,<br>            <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;1&quot;</span><br>        &#125;,<br>        &#123;<br>            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;2024-05-11 16:37:57&quot;</span>,<br>            <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;0&quot;</span><br>        &#125;<br>    ],<br>    [<br>        &#123;<br>            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;2024-05-12 07:10:22&quot;</span>,<br>            <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;3&quot;</span><br>        &#125;,<br>        &#123;<br>            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;2024-05-13 10:08:09&quot;</span>,<br>            <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;2&quot;</span><br>        &#125;,<br>        &#123;<br>            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>            <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;&quot;</span><br>        &#125;,<br>        &#123;<br>            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;2024-05-15 08:30:22&quot;</span>,<br>            <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;3&quot;</span><br>        &#125;,<br>        &#123;<br>            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;2024-05-16 09:31:37&quot;</span>,<br>            <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;2&quot;</span><br>        &#125;,<br>        &#123;<br>            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;2024-05-17 18:00&quot;</span>,<br>            <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;-1&quot;</span><br>        &#125;,<br>        &#123;<br>            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>            <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;&quot;</span><br>        &#125;<br>    ],<br>    [<br>        &#123;<br>            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>            <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;&quot;</span><br>        &#125;,<br>        &#123;<br>            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;2024-05-20 18:00&quot;</span>,<br>            <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;-1&quot;</span><br>        &#125;,<br>        &#123;<br>            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;2024-05-21 11:48:49&quot;</span>,<br>            <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;2&quot;</span><br>        &#125;,<br>        &#123;<br>            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;2024-05-22 09:51:03&quot;</span>,<br>            <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;0&quot;</span><br>        &#125;,<br>        &#123;<br>            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;2024-05-23 05:49:21&quot;</span>,<br>            <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;0&quot;</span><br>        &#125;,<br>        &#123;<br>            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;2024-05-24 18:00&quot;</span>,<br>            <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;-1&quot;</span><br>        &#125;,<br>        &#123;<br>            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>            <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;&quot;</span><br>        &#125;<br>    ],<br>    [<br>        &#123;<br>            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>            <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;&quot;</span><br>        &#125;,<br>        &#123;<br>            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;2024-05-27 15:57:53&quot;</span>,<br>            <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;2&quot;</span><br>        &#125;,<br>        &#123;<br>            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;2024-05-28 18:00&quot;</span>,<br>            <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;-1&quot;</span><br>        &#125;,<br>        &#123;<br>            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>            <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;&quot;</span><br>        &#125;,<br>        &#123;<br>            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>            <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;&quot;</span><br>        &#125;,<br>        &#123;<br>            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>            <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;&quot;</span><br>        &#125;,<br>        &#123;<br>            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>            <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;&quot;</span><br>        &#125;<br>    ],<br>    [<br>        &#123;<br>            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>            <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;&quot;</span><br>        &#125;,<br>        &#123;<br>            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>            <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;&quot;</span><br>        &#125;,<br>        &#123;<br>            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>            <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;&quot;</span><br>        &#125;,<br>        &#123;<br>            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>            <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;&quot;</span><br>        &#125;,<br>        &#123;<br>            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>            <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;&quot;</span><br>        &#125;,<br>        &#123;<br>            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>            <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;&quot;</span><br>        &#125;,<br>        &#123;<br>            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>            <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;&quot;</span><br>        &#125;<br>    ],<br>    []<br>]<br><br></code></pre></td></tr></table></figure>

<p>实现了将两个数组进行匹配，展示。</p>
<h1 id="37、H5页面u-popup-组件弹出后滚动穿透"><a href="#37、H5页面u-popup-组件弹出后滚动穿透" class="headerlink" title="37、H5页面u-popup 组件弹出后滚动穿透"></a>37、H5页面u-popup 组件弹出后滚动穿透</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//加个这个控制就好了</span><br><span class="hljs-title function_">guidShow</span>(<span class="hljs-params">newValue, oldValue</span>) &#123;<br>  <span class="hljs-comment">//在这里添加一句样式    ㄟ(≧◇≦)ㄏ</span><br>  <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-property">style</span>.<span class="hljs-property">overflow</span> = !newValue ? <span class="hljs-string">&quot;auto&quot;</span> : <span class="hljs-string">&quot;hidden&quot;</span>;<br>&#125;,<br></code></pre></td></tr></table></figure>

<h1 id="38、手机号隐藏中间四位"><a href="#38、手机号隐藏中间四位" class="headerlink" title="38、手机号隐藏中间四位"></a>38、手机号隐藏中间四位</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript">电话号码隐藏中间<span class="hljs-number">4</span>位<br><span class="hljs-keyword">var</span> phonenumber=<span class="hljs-number">15054054532</span>;<br><span class="hljs-keyword">var</span> reg = <span class="hljs-regexp">/^(\d&#123;3&#125;)\d&#123;4&#125;(\d&#123;4&#125;)$/</span>;<br><span class="hljs-variable language_">this</span>.<span class="hljs-property">phonenum</span>=phonenumber.<span class="hljs-title function_">replace</span>(reg, <span class="hljs-string">&quot;$1****$2&quot;</span>)<br></code></pre></td></tr></table></figure>

<h2 id="39、最简单的-瀑布流css样式"><a href="#39、最简单的-瀑布流css样式" class="headerlink" title="39、最简单的 瀑布流css样式"></a>39、最简单的 瀑布流css样式</h2><figure class="highlight handlebars"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs handlebars"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;waterfall&quot;</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;waterfall-item&quot;</span> <span class="hljs-attr">wx:for</span>=<span class="hljs-string">&quot;</span></span></span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">feed</span>&#125;&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span> <span class="hljs-attr">wx:key</span>=<span class="hljs-string">&quot;id&quot;</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-comment">&lt;!-- 这里放置图片和内容 --&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">image</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;</span></span></span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">item.image</span>&#125;&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span> /&gt;</span></span><br><span class="language-xml">    <span class="hljs-comment">&lt;!-- 其他内容 --&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></span><br></code></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.waterfall</span> &#123;<br>  <span class="hljs-attribute">column-count</span>: <span class="hljs-number">2</span>;<br>  <span class="hljs-attribute">column-gap</span>: <span class="hljs-number">10px</span>;<br>&#125;<br> <br><span class="hljs-selector-class">.waterfall-item</span> &#123;<br>  <span class="hljs-attribute">break-inside</span>: avoid;<br>  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">10px</span>;<br>&#125;<br> <br><span class="hljs-selector-class">.waterfall-item</span> image &#123;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;<br>  <span class="hljs-attribute">height</span>: auto;<br>  <span class="hljs-attribute">display</span>: block;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>40、canvas 与popup 同时使用时 遇到层级问题</p>
<p>可考虑将canvas 设置为2d模式</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">&lt;canvas <span class="hljs-attribute">canvas-id</span>=<span class="hljs-string">&quot;myid3&quot;</span> <span class="hljs-attribute">id</span>=<span class="hljs-string">&quot;myid3&quot;</span> <span class="hljs-attribute">class</span>=<span class="hljs-string">&quot;arcbar&quot;</span>  <span class="hljs-attribute">type</span>=<span class="hljs-string">&quot;2d&quot;</span> @<span class="hljs-attribute">tap</span>=<span class="hljs-string">&quot;tap&quot;</span>/&gt;<br></code></pre></td></tr></table></figure>

<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs kotlin">arcbar(id, <span class="hljs-keyword">data</span>, color) &#123;<br>  <span class="hljs-keyword">const</span> query = uni.createSelectorQuery().<span class="hljs-keyword">in</span>(<span class="hljs-keyword">this</span>);<br>  query.select(<span class="hljs-string">&#x27;#&#x27;</span> + id).fields(&#123;node: <span class="hljs-literal">true</span>, size: <span class="hljs-literal">true</span>&#125;).exec(res =&gt; &#123;<br>    <span class="hljs-keyword">if</span> (res[<span class="hljs-number">0</span>]) &#123;<br>      <span class="hljs-keyword">const</span> canvas = res[<span class="hljs-number">0</span>].node;<br>      <span class="hljs-keyword">const</span> ctx = canvas.getContext(<span class="hljs-string">&#x27;2d&#x27;</span>);<br>      canvas.width = res[<span class="hljs-number">0</span>].width * <span class="hljs-keyword">this</span>.pixelRatio;<br>      canvas.height = res[<span class="hljs-number">0</span>].height * <span class="hljs-keyword">this</span>.pixelRatio;<br>      uChartsInstance[id] = new uCharts(&#123;<br>        type: <span class="hljs-string">&quot;arcbar&quot;</span>,<br>        context: ctx,<br>        width: <span class="hljs-keyword">this</span>.arcbarWidth * <span class="hljs-keyword">this</span>.pixelRatio,<br>        height: <span class="hljs-keyword">this</span>.arcbarHeight * <span class="hljs-keyword">this</span>.pixelRatio,<br>        series: <span class="hljs-keyword">data</span>.series,<br>        pixelRatio: <span class="hljs-keyword">this</span>.pixelRatio,<br>        animation: <span class="hljs-literal">true</span>,<br>        background: <span class="hljs-string">&quot;#FFFFFF&quot;</span>,<br>        color: color,<br>        padding: undefined,<br>        title: &#123;<br>          name: parseFloat((Number(<span class="hljs-keyword">data</span>.series[<span class="hljs-number">0</span>].<span class="hljs-keyword">data</span> * <span class="hljs-number">100</span>).toFixed(<span class="hljs-number">2</span>))) + <span class="hljs-string">&#x27;%&#x27;</span>,<br>          fontSize: uni.upx2px(<span class="hljs-number">32</span>),<br>          color: <span class="hljs-string">&quot;#9C9C9C&quot;</span><br>        &#125;,<br>        extra: &#123;<br>          arcbar: &#123;<br>            type: <span class="hljs-string">&quot;circle&quot;</span>,<br>            width: <span class="hljs-number">10</span>,<br>            backgroundColor: <span class="hljs-string">&quot;#E9E9E9&quot;</span>,<br>            linearType: <span class="hljs-string">&quot;custom&quot;</span>,<br>            customColor: [color[<span class="hljs-number">1</span>], color[<span class="hljs-number">0</span>]],<br>            startAngle: <span class="hljs-number">1.5</span>,<br>            endAngle: <span class="hljs-number">0.25</span>,<br>            gap: <span class="hljs-number">2</span>,<br>          &#125;<br>        &#125;<br>      &#125;);<br>    &#125;<span class="hljs-keyword">else</span> &#123;<br>      console.error(<span class="hljs-string">&quot;[uCharts]: 未获取到 context&quot;</span>);<br>    &#125;<br>  &#125;);<br>&#125;,<br></code></pre></td></tr></table></figure>

<h1 id="40、字符串补齐"><a href="#40、字符串补齐" class="headerlink" title="40、字符串补齐"></a>40、字符串补齐</h1><p>我们想实现例如订单号等字符串补齐 0，我们可以使用 String.padStart(3,’0’)的方式</p>
<p>​	例</p>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs reasonml"><span class="hljs-keyword">let</span> e=<span class="hljs-number">2</span><br><span class="hljs-keyword">let</span> String=<span class="hljs-constructor">String(<span class="hljs-params">e</span>)</span>.pad<span class="hljs-constructor">Start(3, &#x27;0&#x27;)</span>; <span class="hljs-comment">//此时 String输出为 002</span><br><span class="hljs-keyword">let</span> String=<span class="hljs-constructor">String(<span class="hljs-params">e</span>)</span>.pad<span class="hljs-constructor">Start(2, &#x27;0&#x27;)</span>; <span class="hljs-comment">//此时 String输出为 02</span><br><span class="hljs-keyword">let</span> e=<span class="hljs-number">12</span><br><span class="hljs-keyword">let</span> String=<span class="hljs-constructor">String(<span class="hljs-params">e</span>)</span>.pad<span class="hljs-constructor">Start(3, &#x27;0&#x27;)</span>; <span class="hljs-comment">//此时 String输出为 012</span><br><span class="hljs-keyword">let</span> String=<span class="hljs-constructor">String(<span class="hljs-params">e</span>)</span>.pad<span class="hljs-constructor">Start(2, &#x27;0&#x27;)</span>; <span class="hljs-comment">//此时 String输出为 12</span><br>解释<br>pad<span class="hljs-constructor">Start(<span class="hljs-params">maxLength</span>,<span class="hljs-params">fillString</span>)</span><br>maxLength 为补齐的最大长度<br>fillString 为补齐的字符串<br><br><br></code></pre></td></tr></table></figure>


                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/uni-app/" class="category-chain-item">uni-app</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/uni-app/">#uni-app</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>uni-app</div>
      <div>https://yuhang111881.github.io/yuhang111881.github.io/2023/09/11/uni-app实例/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>余航</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2023年9月11日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2023/09/11/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/" title="webpack">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">webpack</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2023/09/11/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/" title="微信支付">
                        <span class="hidden-mobile">微信支付</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  <article id="comments" lazyload>
    
  <div id="valine"></div>
  <script type="text/javascript">
    Fluid.utils.loadComments('#valine', function() {
      Fluid.utils.createScript('https://lib.baomitu.com/valine/1.5.1/Valine.min.js', function() {
        var options = Object.assign(
          {"appId":"nhXbnKP9RtSWeaAmdl7GrfR3-gzGzoHsz","appKey":"LvVJ0ioNdd5SolRwr1lwJjRl","path":"window.location.pathname","placeholder":null,"avatar":"hide","meta":["nick","mail"],"requiredFields":[],"pageSize":10,"lang":"zh-CN","recordIP":false,"serverURLs":"","emojiCDN":null,"emojiMaps":null,"highlight":"ture","enableQQ":false},
          {
            el: "#valine",
            path: window.location.pathname
          }
        )
        new Valine(options);
        Fluid.utils.waitElementVisible('#valine .vcontent', () => {
          var imgSelector = '#valine .vcontent img:not(.vemoji)';
          Fluid.plugins.imageCaption(imgSelector);
          Fluid.plugins.fancyBox(imgSelector);
        })
      });
    });
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


  </article>


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>余航</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Future</span></a> 
    </div>
  
  
    <div class="statistics">
  
  

  
    
      <span id="busuanzi_container_site_pv" style="display: none">
        总访问量 
        <span id="busuanzi_value_site_pv"></span>
         次
      </span>
    
    
      <span id="busuanzi_container_site_uv" style="display: none">
        总访客数 
        <span id="busuanzi_value_site_uv"></span>
         人
      </span>
    
    
  
</div>

  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>

  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
